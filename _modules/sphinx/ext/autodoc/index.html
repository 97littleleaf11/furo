<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="index" title="Index" href="../../../../genindex/" /><link rel="search" title="Search" href="../../../../search/" />

    <meta name="generator" content="sphinx-3.2.1, furo 2020.10.05.dev10"/>
        <title>sphinx.ext.autodoc - Furo</title>
      <link rel="stylesheet" href="../../../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" />
    <link rel="stylesheet" href="../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" href="../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" href="../../../../_static/styles/default.css?dc2a8b7d47e8e107122d73e7">
    <link rel="stylesheet" href="../../../../_static/pygments.css?dc2a8b7d47e8e107122d73e7">
    
<style>
  :root {
    --color-code-background: #f8f8f8;
    --color-code-foreground: #000000;
  
  }
</style>
    <script id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script><script src="../../../../_static/jquery.js"></script>
      <script src="../../../../_static/underscore.js"></script>
      
        <script src="../../../../_static/doctools.js" defer></script>
      
        <script src="../../../../_static/language_data.js" defer></script>
      <script src="../../../../_static/scripts/main.js?dc2a8b7d47e8e107122d73e7"></script></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="#101010" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<div class="announcement">
  <aside class="announcement-content">
    Furo is under active development, and this documentation is not written yet!
  </aside>
</div>
<div class="page">
  <header class="mobile-header">
    <label class="header-left nav-overlay-icon" for="__navigation">
      <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
    </label>
    <div class="header-center"><div class="brand">Furo</div></div>
    <div class="header-right"></div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../../">
  
  <span class="sidebar-brand-text">Furo</span>
</a><form class="sidebar-search-container" method="get" action="../../../../search/">
  <input class="sidebar-search" placeholder="Search" name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-tree sidebar-scroll">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../quickstart/">Quickstart</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../customisation/">Customisation</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../customisation/logo/">Adding a logo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../customisation/landing-page/">Adding a landing page</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../customisation/colors/">Changing colors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../customisation/fonts/">Changing fonts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../customisation/toc/">Hiding Contents sidebar</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../reference/">Reference</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../reference/basic/">Basic Markup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../reference/admonitions/">Admonitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../reference/api/">API documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../reference/code-blocks/">Code Blocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../reference/lists/">Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../reference/tables/">Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../reference/text-formatting/">Text Formatting</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../contributing/">Contributing</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../contributing/workflow/">Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../contributing/internals/">Internals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../contributing/design-goals/">Design Goals</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../changelog/">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../license/">License</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/pradyunsg/furo">GitHub Repository</a></li>
</ul>

</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon no-toc" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <h1>Source code for sphinx.ext.autodoc</h1><div class="highlight"><pre>
<span></span><span class="sd">"""</span>
<span class="sd">    sphinx.ext.autodoc</span>
<span class="sd">    ~~~~~~~~~~~~~~~~~~</span>

<span class="sd">    Automatically insert docstrings for functions, classes or whole modules into</span>
<span class="sd">    the doctree, thus avoiding duplication between docstrings and documentation</span>
<span class="sd">    for those who like elaborate docstrings.</span>

<span class="sd">    :copyright: Copyright 2007-2020 by the Sphinx team, see AUTHORS.</span>
<span class="sd">    :license: BSD, see LICENSE for details.</span>
<span class="sd">"""</span>

<span class="kn">import</span> <span class="nn">importlib</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">from</span> <span class="nn">inspect</span> <span class="kn">import</span> <span class="n">Parameter</span><span class="p">,</span> <span class="n">Signature</span>
<span class="kn">from</span> <span class="nn">types</span> <span class="kn">import</span> <span class="n">ModuleType</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Any</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Iterator</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">,</span> <span class="n">Set</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">TypeVar</span><span class="p">,</span> <span class="n">Union</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">get_type_hints</span>

<span class="kn">from</span> <span class="nn">docutils.statemachine</span> <span class="kn">import</span> <span class="n">StringList</span>

<span class="kn">import</span> <span class="nn">sphinx</span>
<span class="kn">from</span> <span class="nn">sphinx.application</span> <span class="kn">import</span> <span class="n">Sphinx</span>
<span class="kn">from</span> <span class="nn">sphinx.config</span> <span class="kn">import</span> <span class="n">Config</span><span class="p">,</span> <span class="n">ENUM</span>
<span class="kn">from</span> <span class="nn">sphinx.deprecation</span> <span class="kn">import</span> <span class="n">RemovedInSphinx40Warning</span><span class="p">,</span> <span class="n">RemovedInSphinx50Warning</span>
<span class="kn">from</span> <span class="nn">sphinx.environment</span> <span class="kn">import</span> <span class="n">BuildEnvironment</span>
<span class="kn">from</span> <span class="nn">sphinx.ext.autodoc.importer</span> <span class="kn">import</span> <span class="n">import_object</span><span class="p">,</span> <span class="n">get_module_members</span><span class="p">,</span> <span class="n">get_object_members</span>
<span class="kn">from</span> <span class="nn">sphinx.ext.autodoc.mock</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="kn">from</span> <span class="nn">sphinx.locale</span> <span class="kn">import</span> <span class="n">_</span><span class="p">,</span> <span class="n">__</span>
<span class="kn">from</span> <span class="nn">sphinx.pycode</span> <span class="kn">import</span> <span class="n">ModuleAnalyzer</span><span class="p">,</span> <span class="n">PycodeError</span>
<span class="kn">from</span> <span class="nn">sphinx.util</span> <span class="kn">import</span> <span class="n">inspect</span>
<span class="kn">from</span> <span class="nn">sphinx.util</span> <span class="kn">import</span> <span class="n">logging</span>
<span class="kn">from</span> <span class="nn">sphinx.util.docstrings</span> <span class="kn">import</span> <span class="n">extract_metadata</span><span class="p">,</span> <span class="n">prepare_docstring</span>
<span class="kn">from</span> <span class="nn">sphinx.util.inspect</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">evaluate_signature</span><span class="p">,</span> <span class="n">getdoc</span><span class="p">,</span> <span class="n">object_description</span><span class="p">,</span> <span class="n">safe_getattr</span><span class="p">,</span> <span class="n">stringify_signature</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">sphinx.util.typing</span> <span class="kn">import</span> <span class="n">stringify</span> <span class="k">as</span> <span class="n">stringify_typehint</span>

<span class="k">if</span> <span class="kc">False</span><span class="p">:</span>
    <span class="c1"># For type annotation</span>
    <span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Type</span>  <span class="c1"># NOQA # for python3.5.1</span>
    <span class="kn">from</span> <span class="nn">sphinx.ext.autodoc.directive</span> <span class="kn">import</span> <span class="n">DocumenterBridge</span>


<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>


<span class="c1"># This type isn't exposed directly in any modules, but can be found</span>
<span class="c1"># here in most Python versions</span>
<span class="n">MethodDescriptorType</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="nb">type</span><span class="o">.</span><span class="n">__subclasses__</span><span class="p">)</span>


<span class="c1">#: extended signature RE: with explicit module name separated by ::</span>
<span class="n">py_ext_sig_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
    <span class="sa">r</span><span class="sd">'''^ ([\w.]+::)?            # explicit module name</span>
<span class="sd">          ([\w.]+\.)?            # module and/or class name(s)</span>
<span class="sd">          (\w+)  \s*             # thing name</span>
<span class="sd">          (?: \((.*)\)           # optional: arguments</span>
<span class="sd">           (?:\s* -&gt; \s* (.*))?  #           return annotation</span>
<span class="sd">          )? $                   # and nothing more</span>
<span class="sd">          '''</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">VERBOSE</span><span class="p">)</span>
<span class="n">special_member_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">'^__\S+__$'</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">identity</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">x</span>


<span class="k">class</span> <span class="nc">_All</span><span class="p">:</span>
    <span class="sd">"""A special value for :*-members: that matches to any member."""</span>

    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>


<span class="k">class</span> <span class="nc">_Empty</span><span class="p">:</span>
    <span class="sd">"""A special value for :exclude-members: that never matches to any member."""</span>

    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>


<span class="n">ALL</span> <span class="o">=</span> <span class="n">_All</span><span class="p">()</span>
<span class="n">EMPTY</span> <span class="o">=</span> <span class="n">_Empty</span><span class="p">()</span>
<span class="n">UNINITIALIZED_ATTR</span> <span class="o">=</span> <span class="nb">object</span><span class="p">()</span>
<span class="n">INSTANCEATTR</span> <span class="o">=</span> <span class="nb">object</span><span class="p">()</span>
<span class="n">SLOTSATTR</span> <span class="o">=</span> <span class="nb">object</span><span class="p">()</span>


<div class="viewcode-block" id="members_option"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.members_option">[docs]</a><span class="k">def</span> <span class="nf">members_option</span><span class="p">(</span><span class="n">arg</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">object</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
    <span class="sd">"""Used to convert the :members: option to auto directives."""</span>
    <span class="k">if</span> <span class="n">arg</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">arg</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">ALL</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">arg</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">','</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span></div>


<div class="viewcode-block" id="members_set_option"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.members_set_option">[docs]</a><span class="k">def</span> <span class="nf">members_set_option</span><span class="p">(</span><span class="n">arg</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">object</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
    <span class="sd">"""Used to convert the :members: option to auto directives."""</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">"members_set_option() is deprecated."</span><span class="p">,</span>
                  <span class="n">RemovedInSphinx50Warning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">arg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">ALL</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">arg</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">','</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()}</span></div>


<div class="viewcode-block" id="exclude_members_option"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.exclude_members_option">[docs]</a><span class="k">def</span> <span class="nf">exclude_members_option</span><span class="p">(</span><span class="n">arg</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">object</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
    <span class="sd">"""Used to convert the :exclude-members: option."""</span>
    <span class="k">if</span> <span class="n">arg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">EMPTY</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">arg</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">','</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()}</span></div>


<div class="viewcode-block" id="inherited_members_option"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.inherited_members_option">[docs]</a><span class="k">def</span> <span class="nf">inherited_members_option</span><span class="p">(</span><span class="n">arg</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">object</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
    <span class="sd">"""Used to convert the :members: option to auto directives."""</span>
    <span class="k">if</span> <span class="n">arg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">'object'</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">arg</span></div>


<div class="viewcode-block" id="member_order_option"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.member_order_option">[docs]</a><span class="k">def</span> <span class="nf">member_order_option</span><span class="p">(</span><span class="n">arg</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">"""Used to convert the :members: option to auto directives."""</span>
    <span class="k">if</span> <span class="n">arg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">elif</span> <span class="n">arg</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">'alphabetical'</span><span class="p">,</span> <span class="s1">'bysource'</span><span class="p">,</span> <span class="s1">'groupwise'</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">arg</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">__</span><span class="p">(</span><span class="s1">'invalid value for member-order option: </span><span class="si">%s</span><span class="s1">'</span><span class="p">)</span> <span class="o">%</span> <span class="n">arg</span><span class="p">)</span></div>


<span class="n">SUPPRESS</span> <span class="o">=</span> <span class="nb">object</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">annotation_option</span><span class="p">(</span><span class="n">arg</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">arg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># suppress showing the representation of the object</span>
        <span class="k">return</span> <span class="n">SUPPRESS</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">arg</span>


<div class="viewcode-block" id="bool_option"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.bool_option">[docs]</a><span class="k">def</span> <span class="nf">bool_option</span><span class="p">(</span><span class="n">arg</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">"""Used to convert flag options to auto directives.  (Instead of</span>
<span class="sd">    directives.flag(), which returns None).</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="kc">True</span></div>


<div class="viewcode-block" id="merge_special_members_option"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.merge_special_members_option">[docs]</a><span class="k">def</span> <span class="nf">merge_special_members_option</span><span class="p">(</span><span class="n">options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""Merge :special-members: option to :members: option."""</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">"merge_special_members_option() is deprecated."</span><span class="p">,</span>
                  <span class="n">RemovedInSphinx50Warning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">if</span> <span class="s1">'special-members'</span> <span class="ow">in</span> <span class="n">options</span> <span class="ow">and</span> <span class="n">options</span><span class="p">[</span><span class="s1">'special-members'</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">ALL</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'members'</span><span class="p">)</span> <span class="ow">is</span> <span class="n">ALL</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'members'</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s1">'special-members'</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">member</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s1">'members'</span><span class="p">]:</span>
                    <span class="n">options</span><span class="p">[</span><span class="s1">'members'</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">member</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">options</span><span class="p">[</span><span class="s1">'members'</span><span class="p">]</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s1">'special-members'</span><span class="p">]</span></div>


<div class="viewcode-block" id="merge_members_option"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.merge_members_option">[docs]</a><span class="k">def</span> <span class="nf">merge_members_option</span><span class="p">(</span><span class="n">options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""Merge :*-members: option to the :members: option."""</span>
    <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'members'</span><span class="p">)</span> <span class="ow">is</span> <span class="n">ALL</span><span class="p">:</span>
        <span class="c1"># merging is not needed when members: ALL</span>
        <span class="k">return</span>

    <span class="n">members</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">'members'</span><span class="p">,</span> <span class="p">[])</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">{</span><span class="s1">'private-members'</span><span class="p">,</span> <span class="s1">'special-members'</span><span class="p">}:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">options</span> <span class="ow">and</span> <span class="n">options</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">ALL</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="n">key</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">member</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">members</span><span class="p">:</span>
                    <span class="n">members</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">member</span><span class="p">)</span></div>


<span class="c1"># Some useful event listener factories for autodoc-process-docstring.</span>

<div class="viewcode-block" id="cut_lines"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.cut_lines">[docs]</a><span class="k">def</span> <span class="nf">cut_lines</span><span class="p">(</span><span class="n">pre</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">post</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">what</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
    <span class="sd">"""Return a listener that removes the first *pre* and last *post*</span>
<span class="sd">    lines of every docstring.  If *what* is a sequence of strings,</span>
<span class="sd">    only docstrings of a type in *what* will be processed.</span>

<span class="sd">    Use like this (e.g. in the ``setup()`` function of :file:`conf.py`)::</span>

<span class="sd">       from sphinx.ext.autodoc import cut_lines</span>
<span class="sd">       app.connect('autodoc-process-docstring', cut_lines(4, what=['module']))</span>

<span class="sd">    This can (and should) be used in place of :confval:`automodule_skip_lines`.</span>
<span class="sd">    """</span>
    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="n">app</span><span class="p">:</span> <span class="n">Sphinx</span><span class="p">,</span> <span class="n">what_</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">lines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
                <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">what</span> <span class="ow">and</span> <span class="n">what_</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">what</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">del</span> <span class="n">lines</span><span class="p">[:</span><span class="n">pre</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">post</span><span class="p">:</span>
            <span class="c1"># remove one trailing blank line.</span>
            <span class="k">if</span> <span class="n">lines</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">lines</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">del</span> <span class="n">lines</span><span class="p">[</span><span class="o">-</span><span class="n">post</span><span class="p">:]</span>
        <span class="c1"># make sure there is a blank line at the end</span>
        <span class="k">if</span> <span class="n">lines</span> <span class="ow">and</span> <span class="n">lines</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">process</span></div>


<div class="viewcode-block" id="between"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.between">[docs]</a><span class="k">def</span> <span class="nf">between</span><span class="p">(</span><span class="n">marker</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">what</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">keepempty</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
            <span class="n">exclude</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
    <span class="sd">"""Return a listener that either keeps, or if *exclude* is True excludes,</span>
<span class="sd">    lines between lines that match the *marker* regular expression.  If no line</span>
<span class="sd">    matches, the resulting docstring would be empty, so no change will be made</span>
<span class="sd">    unless *keepempty* is true.</span>

<span class="sd">    If *what* is a sequence of strings, only docstrings of a type in *what* will</span>
<span class="sd">    be processed.</span>
<span class="sd">    """</span>
    <span class="n">marker_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">marker</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="n">app</span><span class="p">:</span> <span class="n">Sphinx</span><span class="p">,</span> <span class="n">what_</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">lines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
                <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">what</span> <span class="ow">and</span> <span class="n">what_</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">what</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">deleted</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">delete</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">exclude</span>
        <span class="n">orig_lines</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[:]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">orig_lines</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">delete</span><span class="p">:</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="n">deleted</span><span class="p">)</span>
                <span class="n">deleted</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">marker_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
                <span class="n">delete</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">delete</span>
                <span class="k">if</span> <span class="n">delete</span><span class="p">:</span>
                    <span class="n">lines</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="n">deleted</span><span class="p">)</span>
                    <span class="n">deleted</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">lines</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">keepempty</span><span class="p">:</span>
            <span class="n">lines</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">orig_lines</span>
        <span class="c1"># make sure there is a blank line at the end</span>
        <span class="k">if</span> <span class="n">lines</span> <span class="ow">and</span> <span class="n">lines</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">process</span></div>


<span class="c1"># This class is used only in ``sphinx.ext.autodoc.directive``,</span>
<span class="c1"># But we define this class here to keep compatibility (see #4538)</span>
<div class="viewcode-block" id="Options"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Options">[docs]</a><span class="k">class</span> <span class="nc">Options</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
    <span class="sd">"""A dict/attribute hybrid that returns None on nonexisting keys."""</span>
    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'_'</span><span class="p">,</span> <span class="s1">'-'</span><span class="p">)]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="Documenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter">[docs]</a><span class="k">class</span> <span class="nc">Documenter</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    A Documenter knows how to autodocument a single object type.  When</span>
<span class="sd">    registered with the AutoDirective, it will be used to document objects</span>
<span class="sd">    of that type when needed by autodoc.</span>

<span class="sd">    Its *objtype* attribute selects what auto directive it is assigned to</span>
<span class="sd">    (the directive name is 'auto' + objtype), and what directive it generates</span>
<span class="sd">    by default, though that can be overridden by an attribute called</span>
<span class="sd">    *directivetype*.</span>

<span class="sd">    A Documenter has an *option_spec* that works like a docutils directive's;</span>
<span class="sd">    in fact, it will be used to parse an auto directive's options that matches</span>
<span class="sd">    the documenter.</span>
<span class="sd">    """</span>
    <span class="c1">#: name by which the directive is called (auto...) and the default</span>
    <span class="c1">#: generated directive name</span>
    <span class="n">objtype</span> <span class="o">=</span> <span class="s1">'object'</span>
    <span class="c1">#: indentation by which to indent the directive content</span>
    <span class="n">content_indent</span> <span class="o">=</span> <span class="s1">'   '</span>
    <span class="c1">#: priority if multiple documenters return True from can_document_member</span>
    <span class="n">priority</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1">#: order if autodoc_member_order is set to 'groupwise'</span>
    <span class="n">member_order</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1">#: true if the generated content may contain titles</span>
    <span class="n">titles_allowed</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">option_spec</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'noindex'</span><span class="p">:</span> <span class="n">bool_option</span><span class="p">}</span>  <span class="c1"># type: Dict[str, Callable]</span>

<div class="viewcode-block" id="Documenter.get_attr"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.get_attr">[docs]</a>    <span class="k">def</span> <span class="nf">get_attr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="n">defargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">"""getattr() override for types such as Zope interfaces."""</span>
        <span class="k">return</span> <span class="n">autodoc_attrgetter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">defargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="Documenter.can_document_member"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.can_document_member">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">can_document_member</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">membername</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">isattr</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Any</span>
                            <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">"""Called to see if a member can be documented by this documenter."""</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">'must be implemented in subclasses'</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">directive</span><span class="p">:</span> <span class="s2">"DocumenterBridge"</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">indent</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">''</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">directive</span> <span class="o">=</span> <span class="n">directive</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">env</span> <span class="o">=</span> <span class="n">directive</span><span class="o">.</span><span class="n">env</span>    <span class="c1"># type: BuildEnvironment</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">options</span> <span class="o">=</span> <span class="n">directive</span><span class="o">.</span><span class="n">genopt</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">indent</span> <span class="o">=</span> <span class="n">indent</span>
        <span class="c1"># the module and object path within the module, and the fully</span>
        <span class="c1"># qualified name (all set after resolve_name succeeds)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">modname</span> <span class="o">=</span> <span class="kc">None</span>         <span class="c1"># type: str</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="kc">None</span>          <span class="c1"># type: ModuleType</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span> <span class="o">=</span> <span class="kc">None</span>         <span class="c1"># type: List[str]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fullname</span> <span class="o">=</span> <span class="kc">None</span>        <span class="c1"># type: str</span>
        <span class="c1"># extra signature items (arguments and return annotation,</span>
        <span class="c1"># also set after resolve_name succeeds)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="kc">None</span>            <span class="c1"># type: str</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">retann</span> <span class="o">=</span> <span class="kc">None</span>          <span class="c1"># type: str</span>
        <span class="c1"># the object to document (set after import_object succeeds)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">object</span> <span class="o">=</span> <span class="kc">None</span>          <span class="c1"># type: Any</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">object_name</span> <span class="o">=</span> <span class="kc">None</span>     <span class="c1"># type: str</span>
        <span class="c1"># the parent/owner of the object to document</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="kc">None</span>          <span class="c1"># type: Any</span>
        <span class="c1"># the module analyzer to get at attribute docs, or None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span> <span class="o">=</span> <span class="kc">None</span>        <span class="c1"># type: ModuleAnalyzer</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">documenters</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">"Type[Documenter]"</span><span class="p">]:</span>
        <span class="sd">"""Returns registered Documenter classes"""</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">documenters</span>

<div class="viewcode-block" id="Documenter.add_line"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.add_line">[docs]</a>    <span class="k">def</span> <span class="nf">add_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="n">lineno</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">"""Append one line of generated reST to the output."""</span>
        <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>  <span class="c1"># not a blank line</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">directive</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">indent</span> <span class="o">+</span> <span class="n">line</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="o">*</span><span class="n">lineno</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">directive</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="o">*</span><span class="n">lineno</span><span class="p">)</span></div>

<div class="viewcode-block" id="Documenter.resolve_name"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.resolve_name">[docs]</a>    <span class="k">def</span> <span class="nf">resolve_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">modname</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">parents</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">base</span><span class="p">:</span> <span class="n">Any</span>
                     <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="sd">"""Resolve the module and name of the object to document given by the</span>
<span class="sd">        arguments and the current module/class.</span>

<span class="sd">        Must return a pair of the module name and a chain of attributes; for</span>
<span class="sd">        example, it would return ``('zipfile', ['ZipFile', 'open'])`` for the</span>
<span class="sd">        ``zipfile.ZipFile.open`` method.</span>
<span class="sd">        """</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">'must be implemented in subclasses'</span><span class="p">)</span></div>

<div class="viewcode-block" id="Documenter.parse_name"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.parse_name">[docs]</a>    <span class="k">def</span> <span class="nf">parse_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">"""Determine what module to import and what attribute to document.</span>

<span class="sd">        Returns True and sets *self.modname*, *self.objpath*, *self.fullname*,</span>
<span class="sd">        *self.args* and *self.retann* if parsing and resolving was successful.</span>
<span class="sd">        """</span>
        <span class="c1"># first, parse the definition -- auto directives for classes and</span>
        <span class="c1"># functions can contain a signature which is then used instead of</span>
        <span class="c1"># an autogenerated one</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">explicit_modname</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">retann</span> <span class="o">=</span> \
                <span class="n">py_ext_sig_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">__</span><span class="p">(</span><span class="s1">'invalid signature for auto</span><span class="si">%s</span><span class="s1"> (</span><span class="si">%r</span><span class="s1">)'</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objtype</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">),</span>
                           <span class="nb">type</span><span class="o">=</span><span class="s1">'autodoc'</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># support explicit module and class name separation via ::</span>
        <span class="k">if</span> <span class="n">explicit_modname</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">modname</span> <span class="o">=</span> <span class="n">explicit_modname</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">parents</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">'.'</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">'.'</span><span class="p">)</span> <span class="k">if</span> <span class="n">path</span> <span class="k">else</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">modname</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">parents</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">with</span> <span class="n">mock</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autodoc_mock_imports</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">modname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolve_name</span><span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">parents</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">base</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">modname</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">args</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">retann</span> <span class="o">=</span> <span class="n">retann</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fullname</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modname</span> <span class="ow">or</span> <span class="s1">''</span><span class="p">)</span> <span class="o">+</span> \
                        <span class="p">(</span><span class="s1">'.'</span> <span class="o">+</span> <span class="s1">'.'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span> <span class="k">else</span> <span class="s1">''</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Documenter.import_object"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.import_object">[docs]</a>    <span class="k">def</span> <span class="nf">import_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raiseerror</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">"""Import the object given by *self.modname* and *self.objpath* and set</span>
<span class="sd">        it as *self.object*.</span>

<span class="sd">        Returns True if successful, False if an error occurred.</span>
<span class="sd">        """</span>
        <span class="k">with</span> <span class="n">mock</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autodoc_mock_imports</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">ret</span> <span class="o">=</span> <span class="n">import_object</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">objtype</span><span class="p">,</span>
                                    <span class="n">attrgetter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">,</span>
                                    <span class="n">warningiserror</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autodoc_warningiserror</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span> <span class="o">=</span> <span class="n">ret</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">raiseerror</span><span class="p">:</span>
                    <span class="k">raise</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="s1">'autodoc'</span><span class="p">,</span> <span class="n">subtype</span><span class="o">=</span><span class="s1">'import_object'</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">note_reread</span><span class="p">()</span>
                    <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="Documenter.get_real_modname"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.get_real_modname">[docs]</a>    <span class="k">def</span> <span class="nf">get_real_modname</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">"""Get the real module name of an object to document.</span>

<span class="sd">        It can differ from the name of the module through which the object was</span>
<span class="sd">        imported.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__module__'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">modname</span></div>

<div class="viewcode-block" id="Documenter.check_module"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.check_module">[docs]</a>    <span class="k">def</span> <span class="nf">check_module</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">"""Check if *self.object* is really defined in the module given by</span>
<span class="sd">        *self.modname*.</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">imported_members</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="n">subject</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">unpartial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">)</span>
        <span class="n">modname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="n">subject</span><span class="p">,</span> <span class="s1">'__module__'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">modname</span> <span class="ow">and</span> <span class="n">modname</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">modname</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Documenter.format_args"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.format_args">[docs]</a>    <span class="k">def</span> <span class="nf">format_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">"""Format the argument signature of *self.object*.</span>

<span class="sd">        Should return None if the object does not have a signature.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Documenter.format_name"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.format_name">[docs]</a>    <span class="k">def</span> <span class="nf">format_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">"""Format the name of *self.object*.</span>

<span class="sd">        This normally should be something that can be parsed by the generated</span>
<span class="sd">        directive, but doesn't need to be (Sphinx will display it unparsed</span>
<span class="sd">        then).</span>
<span class="sd">        """</span>
        <span class="c1"># normally the name doesn't contain the module (except for module</span>
        <span class="c1"># directives of course)</span>
        <span class="k">return</span> <span class="s1">'.'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">modname</span></div>

    <span class="k">def</span> <span class="nf">_call_format_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">format_args</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
                <span class="c1"># avoid chaining exceptions, by putting nothing here</span>
                <span class="k">pass</span>

        <span class="c1"># retry without arguments for old documenters</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">format_args</span><span class="p">()</span>

<div class="viewcode-block" id="Documenter.format_signature"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.format_signature">[docs]</a>    <span class="k">def</span> <span class="nf">format_signature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">"""Format the signature (arguments and return annotation) of the object.</span>

<span class="sd">        Let the user process it via the ``autodoc-process-signature`` event.</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># signature given explicitly</span>
            <span class="n">args</span> <span class="o">=</span> <span class="s2">"(</span><span class="si">%s</span><span class="s2">)"</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
            <span class="n">retann</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">retann</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># try to introspect the signature</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">retann</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_format_args</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
                    <span class="n">matched</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">'^(\(.*\))\s+-&gt;\s+(.*)$'</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">matched</span><span class="p">:</span>
                        <span class="n">args</span> <span class="o">=</span> <span class="n">matched</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                        <span class="n">retann</span> <span class="o">=</span> <span class="n">matched</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">__</span><span class="p">(</span><span class="s1">'error while formatting arguments for </span><span class="si">%s</span><span class="s1">: </span><span class="si">%s</span><span class="s1">'</span><span class="p">),</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">fullname</span><span class="p">,</span> <span class="n">exc</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">'autodoc'</span><span class="p">)</span>
                <span class="n">args</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">emit_firstresult</span><span class="p">(</span><span class="s1">'autodoc-process-signature'</span><span class="p">,</span>
                                                  <span class="bp">self</span><span class="o">.</span><span class="n">objtype</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullname</span><span class="p">,</span>
                                                  <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">retann</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
            <span class="n">args</span><span class="p">,</span> <span class="n">retann</span> <span class="o">=</span> <span class="n">result</span>

        <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">args</span> <span class="o">+</span> <span class="p">((</span><span class="s1">' -&gt; </span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="n">retann</span><span class="p">)</span> <span class="k">if</span> <span class="n">retann</span> <span class="k">else</span> <span class="s1">''</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">''</span></div>

<div class="viewcode-block" id="Documenter.add_directive_header"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.add_directive_header">[docs]</a>    <span class="k">def</span> <span class="nf">add_directive_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sig</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">"""Add the directive header and options to the generated content."""</span>
        <span class="n">domain</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">'domain'</span><span class="p">,</span> <span class="s1">'py'</span><span class="p">)</span>
        <span class="n">directive</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">'directivetype'</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">objtype</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">format_name</span><span class="p">()</span>
        <span class="n">sourcename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sourcename</span><span class="p">()</span>

        <span class="c1"># one signature per line, indented by column</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="s1">'.. </span><span class="si">%s</span><span class="s1">:</span><span class="si">%s</span><span class="s1">:: '</span> <span class="o">%</span> <span class="p">(</span><span class="n">domain</span><span class="p">,</span> <span class="n">directive</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">sig_line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sig</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'</span><span class="si">%s%s%s</span><span class="s1">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">sig_line</span><span class="p">),</span>
                          <span class="n">sourcename</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">prefix</span> <span class="o">=</span> <span class="s2">" "</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">noindex</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :noindex:'</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">:</span>
            <span class="c1"># Be explicit about the module, this is necessary since .. class::</span>
            <span class="c1"># etc. don't support a prepended module name</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :module: </span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">modname</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span></div>

<div class="viewcode-block" id="Documenter.get_doc"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.get_doc">[docs]</a>    <span class="k">def</span> <span class="nf">get_doc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="sd">"""Decode and return lines of the docstring(s) for the object."""</span>
        <span class="k">if</span> <span class="n">encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">"The 'encoding' argument to autodoc.</span><span class="si">%s</span><span class="s2">.get_doc() is deprecated."</span>
                          <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                          <span class="n">RemovedInSphinx40Warning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ignore</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">"The 'ignore' argument to autodoc.</span><span class="si">%s</span><span class="s2">.get_doc() is deprecated."</span>
                          <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                          <span class="n">RemovedInSphinx50Warning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">docstring</span> <span class="o">=</span> <span class="n">getdoc</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">,</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autodoc_inherit_docstrings</span><span class="p">,</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">docstring</span><span class="p">:</span>
            <span class="n">tab_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">directive</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">document</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">tab_width</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">prepare_docstring</span><span class="p">(</span><span class="n">docstring</span><span class="p">,</span> <span class="n">ignore</span><span class="p">,</span> <span class="n">tab_width</span><span class="p">)]</span>
        <span class="k">return</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="Documenter.process_doc"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.process_doc">[docs]</a>    <span class="k">def</span> <span class="nf">process_doc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">docstrings</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">"""Let the user process the docstrings before adding them."""</span>
        <span class="k">for</span> <span class="n">docstringlines</span> <span class="ow">in</span> <span class="n">docstrings</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">app</span><span class="p">:</span>
                <span class="c1"># let extensions preprocess docstrings</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s1">'autodoc-process-docstring'</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">objtype</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">,</span> <span class="n">docstringlines</span><span class="p">)</span>
            <span class="k">yield from</span> <span class="n">docstringlines</span></div>

    <span class="k">def</span> <span class="nf">get_sourcename</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">'</span><span class="si">%s</span><span class="s1">:docstring of </span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="o">.</span><span class="n">srcname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullname</span><span class="p">)</span>
        <span class="k">return</span> <span class="s1">'docstring of </span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullname</span>

<div class="viewcode-block" id="Documenter.add_content"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.add_content">[docs]</a>    <span class="k">def</span> <span class="nf">add_content</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">more_content</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">no_docstring</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">"""Add content from docstrings, attribute documentation and user."""</span>
        <span class="c1"># set sourcename and add content from attribute documentation</span>
        <span class="n">sourcename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sourcename</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="p">:</span>
            <span class="n">attr_docs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="o">.</span><span class="n">find_attr_docs</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'.'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">attr_docs</span><span class="p">:</span>
                    <span class="n">no_docstring</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="c1"># make a copy of docstring for attributes to avoid cache</span>
                    <span class="c1"># the change of autodoc-process-docstring event.</span>
                    <span class="n">docstrings</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">attr_docs</span><span class="p">[</span><span class="n">key</span><span class="p">])]</span>

                    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">process_doc</span><span class="p">(</span><span class="n">docstrings</span><span class="p">)):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>

        <span class="c1"># add content from docstrings</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">no_docstring</span><span class="p">:</span>
            <span class="n">docstrings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_doc</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">docstrings</span><span class="p">:</span>
                <span class="c1"># append at least a dummy docstring, so that the event</span>
                <span class="c1"># autodoc-process-docstring is fired and can add some</span>
                <span class="c1"># content if desired</span>
                <span class="n">docstrings</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">process_doc</span><span class="p">(</span><span class="n">docstrings</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>

        <span class="c1"># add additional content (e.g. from document), if present</span>
        <span class="k">if</span> <span class="n">more_content</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span><span class="p">,</span> <span class="n">src</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">more_content</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">more_content</span><span class="o">.</span><span class="n">items</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">src</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">src</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></div>

<div class="viewcode-block" id="Documenter.get_object_members"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.get_object_members">[docs]</a>    <span class="k">def</span> <span class="nf">get_object_members</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">want_all</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]:</span>
        <span class="sd">"""Return `(members_check_module, members)` where `members` is a</span>
<span class="sd">        list of `(membername, member)` pairs of the members of *self.object*.</span>

<span class="sd">        If *want_all* is True, return all members.  Else, only return those</span>
<span class="sd">        members given by *self.options.members* (which may also be none).</span>
<span class="sd">        """</span>
        <span class="n">members</span> <span class="o">=</span> <span class="n">get_object_members</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">want_all</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">members</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">[]</span>
            <span class="c1"># specific members given</span>
            <span class="n">selected</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">members</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">members</span><span class="p">:</span>
                    <span class="n">selected</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">name</span><span class="p">,</span> <span class="n">members</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">__</span><span class="p">(</span><span class="s1">'missing attribute </span><span class="si">%s</span><span class="s1"> in object </span><span class="si">%s</span><span class="s1">'</span><span class="p">)</span> <span class="o">%</span>
                                   <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullname</span><span class="p">),</span> <span class="nb">type</span><span class="o">=</span><span class="s1">'autodoc'</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="n">selected</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">inherited_members</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">[(</span><span class="n">m</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">members</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">[(</span><span class="n">m</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">members</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
                           <span class="k">if</span> <span class="n">m</span><span class="o">.</span><span class="n">directly_defined</span><span class="p">]</span></div>

<div class="viewcode-block" id="Documenter.filter_members"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.filter_members">[docs]</a>    <span class="k">def</span> <span class="nf">filter_members</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">members</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="n">want_all</span><span class="p">:</span> <span class="nb">bool</span>
                       <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]]:</span>
        <span class="sd">"""Filter the given member list.</span>

<span class="sd">        Members are skipped if</span>

<span class="sd">        - they are private (except if given explicitly or the private-members</span>
<span class="sd">          option is set)</span>
<span class="sd">        - they are special methods (except if given explicitly or the</span>
<span class="sd">          special-members option is set)</span>
<span class="sd">        - they are undocumented (except if the undoc-members option is set)</span>

<span class="sd">        The user can override the skipping decision by connecting to the</span>
<span class="sd">        ``autodoc-skip-member`` event.</span>
<span class="sd">        """</span>
        <span class="k">def</span> <span class="nf">is_filtered_inherited_member</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isclass</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">):</span>
                <span class="k">for</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="vm">__mro__</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">inherited_members</span> <span class="ow">and</span> <span class="bp">cls</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">:</span>
                        <span class="c1"># given member is a member of specified *super class*</span>
                        <span class="k">return</span> <span class="kc">True</span>
                    <span class="k">elif</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">:</span>
                        <span class="k">return</span> <span class="kc">False</span>
                    <span class="k">elif</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s1">'__annotations__'</span><span class="p">,</span> <span class="p">{}):</span>
                        <span class="k">return</span> <span class="kc">False</span>

            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># search for members in source code too</span>
        <span class="n">namespace</span> <span class="o">=</span> <span class="s1">'.'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">)</span>  <span class="c1"># will be empty for modules</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="p">:</span>
            <span class="n">attr_docs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="o">.</span><span class="n">find_attr_docs</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">attr_docs</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># process members and determine which to skip</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">membername</span><span class="p">,</span> <span class="n">member</span><span class="p">)</span> <span class="ow">in</span> <span class="n">members</span><span class="p">:</span>
            <span class="c1"># if isattr is True, the member is documented as an attribute</span>
            <span class="k">if</span> <span class="n">member</span> <span class="ow">is</span> <span class="n">INSTANCEATTR</span><span class="p">:</span>
                <span class="n">isattr</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">isattr</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="n">doc</span> <span class="o">=</span> <span class="n">getdoc</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autodoc_inherit_docstrings</span><span class="p">,</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="c1"># Ignore non-string __doc__</span>
                <span class="n">doc</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="c1"># if the member __doc__ is the same as self's __doc__, it's just</span>
            <span class="c1"># inherited and therefore not the member's doc</span>
            <span class="bp">cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="s1">'__class__'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">cls</span><span class="p">:</span>
                <span class="n">cls_doc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s1">'__doc__'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">cls_doc</span> <span class="o">==</span> <span class="n">doc</span><span class="p">:</span>
                    <span class="n">doc</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">has_doc</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>

            <span class="n">metadata</span> <span class="o">=</span> <span class="n">extract_metadata</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">'private'</span> <span class="ow">in</span> <span class="n">metadata</span><span class="p">:</span>
                <span class="c1"># consider a member private if docstring has "private" metadata</span>
                <span class="n">isprivate</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">elif</span> <span class="s1">'public'</span> <span class="ow">in</span> <span class="n">metadata</span><span class="p">:</span>
                <span class="c1"># consider a member public if docstring has "public" metadata</span>
                <span class="n">isprivate</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">isprivate</span> <span class="o">=</span> <span class="n">membername</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">'_'</span><span class="p">)</span>

            <span class="n">keep</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="n">safe_getattr</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="s1">'__sphinx_mock__'</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
                <span class="c1"># mocked module or object</span>
                <span class="k">pass</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">exclude_members</span> <span class="ow">and</span> <span class="n">membername</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">exclude_members</span><span class="p">:</span>
                <span class="c1"># remove members given by exclude-members</span>
                <span class="n">keep</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">elif</span> <span class="n">want_all</span> <span class="ow">and</span> <span class="n">special_member_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">membername</span><span class="p">):</span>
                <span class="c1"># special __methods__</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">special_members</span> <span class="ow">and</span> <span class="n">membername</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">special_members</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">membername</span> <span class="o">==</span> <span class="s1">'__doc__'</span><span class="p">:</span>
                        <span class="n">keep</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">elif</span> <span class="n">is_filtered_inherited_member</span><span class="p">(</span><span class="n">membername</span><span class="p">):</span>
                        <span class="n">keep</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">keep</span> <span class="o">=</span> <span class="n">has_doc</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">undoc_members</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">keep</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">namespace</span><span class="p">,</span> <span class="n">membername</span><span class="p">)</span> <span class="ow">in</span> <span class="n">attr_docs</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">want_all</span> <span class="ow">and</span> <span class="n">isprivate</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">private_members</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">keep</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">keep</span> <span class="o">=</span> <span class="n">membername</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">private_members</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># keep documented attributes</span>
                    <span class="n">keep</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="n">isattr</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">elif</span> <span class="n">want_all</span> <span class="ow">and</span> <span class="n">isprivate</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">has_doc</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">undoc_members</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">private_members</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">keep</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">elif</span> <span class="n">is_filtered_inherited_member</span><span class="p">(</span><span class="n">membername</span><span class="p">):</span>
                        <span class="n">keep</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">keep</span> <span class="o">=</span> <span class="n">membername</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">private_members</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">keep</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">members</span> <span class="ow">is</span> <span class="n">ALL</span> <span class="ow">and</span> <span class="n">is_filtered_inherited_member</span><span class="p">(</span><span class="n">membername</span><span class="p">):</span>
                    <span class="n">keep</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># ignore undocumented members if :undoc-members: is not given</span>
                    <span class="n">keep</span> <span class="o">=</span> <span class="n">has_doc</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">undoc_members</span>

            <span class="c1"># give the user a chance to decide whether this member</span>
            <span class="c1"># should be skipped</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">app</span><span class="p">:</span>
                <span class="c1"># let extensions preprocess docstrings</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">skip_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">emit_firstresult</span><span class="p">(</span>
                        <span class="s1">'autodoc-skip-member'</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">objtype</span><span class="p">,</span> <span class="n">membername</span><span class="p">,</span> <span class="n">member</span><span class="p">,</span>
                        <span class="ow">not</span> <span class="n">keep</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">skip_user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">keep</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">skip_user</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">__</span><span class="p">(</span><span class="s1">'autodoc: failed to determine </span><span class="si">%r</span><span class="s1"> to be documented, '</span>
                                      <span class="s1">'the following exception was raised:</span><span class="se">\n</span><span class="si">%s</span><span class="s1">'</span><span class="p">),</span>
                                   <span class="n">member</span><span class="p">,</span> <span class="n">exc</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">'autodoc'</span><span class="p">)</span>
                    <span class="n">keep</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="k">if</span> <span class="n">keep</span><span class="p">:</span>
                <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">membername</span><span class="p">,</span> <span class="n">member</span><span class="p">,</span> <span class="n">isattr</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">ret</span></div>

<div class="viewcode-block" id="Documenter.document_members"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.document_members">[docs]</a>    <span class="k">def</span> <span class="nf">document_members</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">all_members</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">"""Generate reST for member documentation.</span>

<span class="sd">        If *all_members* is True, do all members, else those given by</span>
<span class="sd">        *self.options.members*.</span>
<span class="sd">        """</span>
        <span class="c1"># set current namespace for finding members</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">temp_data</span><span class="p">[</span><span class="s1">'autodoc:module'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">modname</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">temp_data</span><span class="p">[</span><span class="s1">'autodoc:class'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">want_all</span> <span class="o">=</span> <span class="n">all_members</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">inherited_members</span> <span class="ow">or</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">members</span> <span class="ow">is</span> <span class="n">ALL</span>
        <span class="c1"># find out which members are documentable</span>
        <span class="n">members_check_module</span><span class="p">,</span> <span class="n">members</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_object_members</span><span class="p">(</span><span class="n">want_all</span><span class="p">)</span>

        <span class="c1"># document non-skipped members</span>
        <span class="n">memberdocumenters</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># type: List[Tuple[Documenter, bool]]</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">mname</span><span class="p">,</span> <span class="n">member</span><span class="p">,</span> <span class="n">isattr</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_members</span><span class="p">(</span><span class="n">members</span><span class="p">,</span> <span class="n">want_all</span><span class="p">):</span>
            <span class="n">classes</span> <span class="o">=</span> <span class="p">[</span><span class="bp">cls</span> <span class="k">for</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">documenters</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
                       <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">can_document_member</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="n">mname</span><span class="p">,</span> <span class="n">isattr</span><span class="p">,</span> <span class="bp">self</span><span class="p">)]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">classes</span><span class="p">:</span>
                <span class="c1"># don't know how to document this member</span>
                <span class="k">continue</span>
            <span class="c1"># prefer the documenter with the highest priority</span>
            <span class="n">classes</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">cls</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">priority</span><span class="p">)</span>
            <span class="c1"># give explicitly separated module name, so that members</span>
            <span class="c1"># of inner classes can be documented</span>
            <span class="n">full_mname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">modname</span> <span class="o">+</span> <span class="s1">'::'</span> <span class="o">+</span> \
                <span class="s1">'.'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span> <span class="o">+</span> <span class="p">[</span><span class="n">mname</span><span class="p">])</span>
            <span class="n">documenter</span> <span class="o">=</span> <span class="n">classes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">](</span><span class="bp">self</span><span class="o">.</span><span class="n">directive</span><span class="p">,</span> <span class="n">full_mname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">indent</span><span class="p">)</span>
            <span class="n">memberdocumenters</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">documenter</span><span class="p">,</span> <span class="n">isattr</span><span class="p">))</span>

        <span class="n">member_order</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">member_order</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autodoc_member_order</span>
        <span class="n">memberdocumenters</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sort_members</span><span class="p">(</span><span class="n">memberdocumenters</span><span class="p">,</span> <span class="n">member_order</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">documenter</span><span class="p">,</span> <span class="n">isattr</span> <span class="ow">in</span> <span class="n">memberdocumenters</span><span class="p">:</span>
            <span class="n">documenter</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span>
                <span class="n">all_members</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">real_modname</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">real_modname</span><span class="p">,</span>
                <span class="n">check_module</span><span class="o">=</span><span class="n">members_check_module</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">isattr</span><span class="p">)</span>

        <span class="c1"># reset current objects</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">temp_data</span><span class="p">[</span><span class="s1">'autodoc:module'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">temp_data</span><span class="p">[</span><span class="s1">'autodoc:class'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Documenter.sort_members"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.sort_members">[docs]</a>    <span class="k">def</span> <span class="nf">sort_members</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">documenters</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="s2">"Documenter"</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]],</span>
                     <span class="n">order</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="s2">"Documenter"</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]]:</span>
        <span class="sd">"""Sort the given member list."""</span>
        <span class="k">if</span> <span class="n">order</span> <span class="o">==</span> <span class="s1">'groupwise'</span><span class="p">:</span>
            <span class="c1"># sort by group; alphabetically within groups</span>
            <span class="n">documenters</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">member_order</span><span class="p">,</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">order</span> <span class="o">==</span> <span class="s1">'bysource'</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="p">:</span>
                <span class="c1"># sort by source order, by virtue of the module analyzer</span>
                <span class="n">tagorder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="o">.</span><span class="n">tagorder</span>

                <span class="k">def</span> <span class="nf">keyfunc</span><span class="p">(</span><span class="n">entry</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Documenter</span><span class="p">,</span> <span class="nb">bool</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
                    <span class="n">fullname</span> <span class="o">=</span> <span class="n">entry</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">'::'</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">return</span> <span class="n">tagorder</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">fullname</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">tagorder</span><span class="p">))</span>
                <span class="n">documenters</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">keyfunc</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Assume that member discovery order matches source order.</span>
                <span class="c1"># This is a reasonable assumption in Python 3.6 and up, where</span>
                <span class="c1"># module.__dict__ is insertion-ordered.</span>
                <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># alphabetical</span>
            <span class="n">documenters</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">documenters</span></div>

<div class="viewcode-block" id="Documenter.generate"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.Documenter.generate">[docs]</a>    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">more_content</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">real_modname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">check_module</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">all_members</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">"""Generate reST for the object given by *self.name*, and possibly for</span>
<span class="sd">        its members.</span>

<span class="sd">        If *more_content* is given, include that content. If *real_modname* is</span>
<span class="sd">        given, use that module name to find attribute docs. If *check_module* is</span>
<span class="sd">        True, only generate if the object is defined in the module name it is</span>
<span class="sd">        imported from. If *all_members* is True, document all members.</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_name</span><span class="p">():</span>
            <span class="c1"># need a module to import</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="n">__</span><span class="p">(</span><span class="s1">'don</span><span class="se">\'</span><span class="s1">t know which module to import for autodocumenting '</span>
                   <span class="s1">'</span><span class="si">%r</span><span class="s1"> (try placing a "module" or "currentmodule" directive '</span>
                   <span class="s1">'in the document, or giving an explicit module name)'</span><span class="p">)</span> <span class="o">%</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">'autodoc'</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="c1"># now, import the module and get object to document</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_object</span><span class="p">():</span>
            <span class="k">return</span>

        <span class="c1"># If there is no real module defined, figure out which to use.</span>
        <span class="c1"># The real module is used in the module analyzer to look up the module</span>
        <span class="c1"># where the attribute documentation would actually be found in.</span>
        <span class="c1"># This is used for situations where you have a module that collects the</span>
        <span class="c1"># functions and classes of internal submodules.</span>
        <span class="n">guess_modname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_real_modname</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">real_modname</span> <span class="o">=</span> <span class="n">real_modname</span> <span class="ow">or</span> <span class="n">guess_modname</span>

        <span class="c1"># try to also get a source code analyzer for attribute docs</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span> <span class="o">=</span> <span class="n">ModuleAnalyzer</span><span class="o">.</span><span class="n">for_module</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">real_modname</span><span class="p">)</span>
            <span class="c1"># parse right now, to get PycodeErrors on parsing (results will</span>
            <span class="c1"># be cached anyway)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="o">.</span><span class="n">find_attr_docs</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">PycodeError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">'[autodoc] module analyzer failed: </span><span class="si">%s</span><span class="s1">'</span><span class="p">,</span> <span class="n">exc</span><span class="p">)</span>
            <span class="c1"># no source file -- e.g. for builtin and C modules</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="c1"># at least add the module.__file__ as a dependency</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="p">,</span> <span class="s1">'__file__'</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="vm">__file__</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">directive</span><span class="o">.</span><span class="n">filename_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">directive</span><span class="o">.</span><span class="n">filename_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="o">.</span><span class="n">srcname</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">real_modname</span> <span class="o">!=</span> <span class="n">guess_modname</span><span class="p">:</span>
            <span class="c1"># Add module to dependency list if target object is defined in other module.</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">analyzer</span> <span class="o">=</span> <span class="n">ModuleAnalyzer</span><span class="o">.</span><span class="n">for_module</span><span class="p">(</span><span class="n">guess_modname</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">directive</span><span class="o">.</span><span class="n">filename_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">analyzer</span><span class="o">.</span><span class="n">srcname</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PycodeError</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="c1"># check __module__ of object (for members not given explicitly)</span>
        <span class="k">if</span> <span class="n">check_module</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_module</span><span class="p">():</span>
                <span class="k">return</span>

        <span class="n">sourcename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sourcename</span><span class="p">()</span>

        <span class="c1"># make sure that the result starts with an empty line.  This is</span>
        <span class="c1"># necessary for some situations where another directive preprocesses</span>
        <span class="c1"># reST and no starting newline is present</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span>

        <span class="c1"># format the object's signature, if any</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sig</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">format_signature</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">__</span><span class="p">(</span><span class="s1">'error while formatting signature for </span><span class="si">%s</span><span class="s1">: </span><span class="si">%s</span><span class="s1">'</span><span class="p">),</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">fullname</span><span class="p">,</span> <span class="n">exc</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">'autodoc'</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="c1"># generate the directive header and options, if applicable</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_directive_header</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span>

        <span class="c1"># e.g. the module directive doesn't have content</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">indent</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_indent</span>

        <span class="c1"># add all content (from docstrings, attribute docs etc.)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_content</span><span class="p">(</span><span class="n">more_content</span><span class="p">)</span>

        <span class="c1"># document members, if possible</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">document_members</span><span class="p">(</span><span class="n">all_members</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="ModuleDocumenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ModuleDocumenter">[docs]</a><span class="k">class</span> <span class="nc">ModuleDocumenter</span><span class="p">(</span><span class="n">Documenter</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Specialized Documenter subclass for modules.</span>
<span class="sd">    """</span>
    <span class="n">objtype</span> <span class="o">=</span> <span class="s1">'module'</span>
    <span class="n">content_indent</span> <span class="o">=</span> <span class="s1">''</span>
    <span class="n">titles_allowed</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">option_spec</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">'members'</span><span class="p">:</span> <span class="n">members_option</span><span class="p">,</span> <span class="s1">'undoc-members'</span><span class="p">:</span> <span class="n">bool_option</span><span class="p">,</span>
        <span class="s1">'noindex'</span><span class="p">:</span> <span class="n">bool_option</span><span class="p">,</span> <span class="s1">'inherited-members'</span><span class="p">:</span> <span class="n">inherited_members_option</span><span class="p">,</span>
        <span class="s1">'show-inheritance'</span><span class="p">:</span> <span class="n">bool_option</span><span class="p">,</span> <span class="s1">'synopsis'</span><span class="p">:</span> <span class="n">identity</span><span class="p">,</span>
        <span class="s1">'platform'</span><span class="p">:</span> <span class="n">identity</span><span class="p">,</span> <span class="s1">'deprecated'</span><span class="p">:</span> <span class="n">bool_option</span><span class="p">,</span>
        <span class="s1">'member-order'</span><span class="p">:</span> <span class="n">member_order_option</span><span class="p">,</span> <span class="s1">'exclude-members'</span><span class="p">:</span> <span class="n">exclude_members_option</span><span class="p">,</span>
        <span class="s1">'private-members'</span><span class="p">:</span> <span class="n">members_option</span><span class="p">,</span> <span class="s1">'special-members'</span><span class="p">:</span> <span class="n">members_option</span><span class="p">,</span>
        <span class="s1">'imported-members'</span><span class="p">:</span> <span class="n">bool_option</span><span class="p">,</span> <span class="s1">'ignore-module-all'</span><span class="p">:</span> <span class="n">bool_option</span>
    <span class="p">}</span>  <span class="c1"># type: Dict[str, Callable]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="n">merge_members_option</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__all__</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="ModuleDocumenter.can_document_member"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ModuleDocumenter.can_document_member">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">can_document_member</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">membername</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">isattr</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Any</span>
                            <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># don't document submodules automatically</span>
        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="ModuleDocumenter.resolve_name"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ModuleDocumenter.resolve_name">[docs]</a>    <span class="k">def</span> <span class="nf">resolve_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">modname</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">parents</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">base</span><span class="p">:</span> <span class="n">Any</span>
                     <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">if</span> <span class="n">modname</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">__</span><span class="p">(</span><span class="s1">'"::" in automodule name doesn</span><span class="se">\'</span><span class="s1">t make sense'</span><span class="p">),</span>
                           <span class="nb">type</span><span class="o">=</span><span class="s1">'autodoc'</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">path</span> <span class="ow">or</span> <span class="s1">''</span><span class="p">)</span> <span class="o">+</span> <span class="n">base</span><span class="p">,</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="ModuleDocumenter.parse_name"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ModuleDocumenter.parse_name">[docs]</a>    <span class="k">def</span> <span class="nf">parse_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">parse_name</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">retann</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">__</span><span class="p">(</span><span class="s1">'signature arguments or return annotation '</span>
                              <span class="s1">'given for automodule </span><span class="si">%s</span><span class="s1">'</span><span class="p">)</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullname</span><span class="p">,</span>
                           <span class="nb">type</span><span class="o">=</span><span class="s1">'autodoc'</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret</span></div>

<div class="viewcode-block" id="ModuleDocumenter.import_object"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ModuleDocumenter.import_object">[docs]</a>    <span class="k">def</span> <span class="nf">import_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raiseerror</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">is_valid_module_all</span><span class="p">(</span><span class="n">__all__</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
            <span class="sd">"""Check the given *__all__* is valid for a module."""</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">__all__</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">))</span> <span class="ow">and</span>
                    <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">__all__</span><span class="p">)):</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="n">ret</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">import_object</span><span class="p">(</span><span class="n">raiseerror</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">ignore_module_all</span><span class="p">:</span>
            <span class="n">__all__</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__all__'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">is_valid_module_all</span><span class="p">(</span><span class="n">__all__</span><span class="p">):</span>
                <span class="c1"># valid __all__ found. copy it to self.__all__</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__all__</span> <span class="o">=</span> <span class="n">__all__</span>
            <span class="k">elif</span> <span class="n">__all__</span><span class="p">:</span>
                <span class="c1"># invalid __all__ found.</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">__</span><span class="p">(</span><span class="s1">'__all__ should be a list of strings, not </span><span class="si">%r</span><span class="s1"> '</span>
                                  <span class="s1">'(in module </span><span class="si">%s</span><span class="s1">) -- ignoring __all__'</span><span class="p">)</span> <span class="o">%</span>
                               <span class="p">(</span><span class="n">__all__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullname</span><span class="p">),</span> <span class="nb">type</span><span class="o">=</span><span class="s1">'autodoc'</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">ret</span></div>

<div class="viewcode-block" id="ModuleDocumenter.add_directive_header"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ModuleDocumenter.add_directive_header">[docs]</a>    <span class="k">def</span> <span class="nf">add_directive_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sig</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">Documenter</span><span class="o">.</span><span class="n">add_directive_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sig</span><span class="p">)</span>

        <span class="n">sourcename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sourcename</span><span class="p">()</span>

        <span class="c1"># add some module-specific options</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">synopsis</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :synopsis: '</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">synopsis</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">platform</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :platform: '</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">platform</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">deprecated</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :deprecated:'</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span></div>

<div class="viewcode-block" id="ModuleDocumenter.get_object_members"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ModuleDocumenter.get_object_members">[docs]</a>    <span class="k">def</span> <span class="nf">get_object_members</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">want_all</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]:</span>
        <span class="k">if</span> <span class="n">want_all</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__all__</span><span class="p">:</span>
                <span class="n">memberlist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__all__</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># for implicit module members, check __module__ to avoid</span>
                <span class="c1"># documenting imported objects</span>
                <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="n">get_module_members</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">memberlist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">members</span> <span class="ow">or</span> <span class="p">[]</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">mname</span> <span class="ow">in</span> <span class="n">memberlist</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">mname</span><span class="p">,</span> <span class="n">safe_getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="n">mname</span><span class="p">)))</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="n">__</span><span class="p">(</span><span class="s1">'missing attribute mentioned in :members: or __all__: '</span>
                       <span class="s1">'module </span><span class="si">%s</span><span class="s1">, attribute </span><span class="si">%s</span><span class="s1">'</span><span class="p">)</span> <span class="o">%</span>
                    <span class="p">(</span><span class="n">safe_getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__name__'</span><span class="p">,</span> <span class="s1">'???'</span><span class="p">),</span> <span class="n">mname</span><span class="p">),</span>
                    <span class="nb">type</span><span class="o">=</span><span class="s1">'autodoc'</span>
                <span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="n">ret</span></div>

<div class="viewcode-block" id="ModuleDocumenter.sort_members"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ModuleDocumenter.sort_members">[docs]</a>    <span class="k">def</span> <span class="nf">sort_members</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">documenters</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="s2">"Documenter"</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]],</span>
                     <span class="n">order</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="s2">"Documenter"</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]]:</span>
        <span class="k">if</span> <span class="n">order</span> <span class="o">==</span> <span class="s1">'bysource'</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">__all__</span><span class="p">:</span>
            <span class="c1"># Sort alphabetically first (for members not listed on the __all__)</span>
            <span class="n">documenters</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

            <span class="c1"># Sort by __all__</span>
            <span class="k">def</span> <span class="nf">keyfunc</span><span class="p">(</span><span class="n">entry</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Documenter</span><span class="p">,</span> <span class="nb">bool</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">entry</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">'::'</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__all__</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__all__</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__all__</span><span class="p">)</span>
            <span class="n">documenters</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">keyfunc</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">documenters</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">sort_members</span><span class="p">(</span><span class="n">documenters</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="ModuleLevelDocumenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ModuleLevelDocumenter">[docs]</a><span class="k">class</span> <span class="nc">ModuleLevelDocumenter</span><span class="p">(</span><span class="n">Documenter</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Specialized Documenter subclass for objects on module level (functions,</span>
<span class="sd">    classes, data/constants).</span>
<span class="sd">    """</span>
<div class="viewcode-block" id="ModuleLevelDocumenter.resolve_name"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ModuleLevelDocumenter.resolve_name">[docs]</a>    <span class="k">def</span> <span class="nf">resolve_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">modname</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">parents</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">base</span><span class="p">:</span> <span class="n">Any</span>
                     <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">if</span> <span class="n">modname</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
                <span class="n">modname</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">'.'</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># if documenting a toplevel object without explicit module,</span>
                <span class="c1"># it can be contained in another auto directive ...</span>
                <span class="n">modname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">temp_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'autodoc:module'</span><span class="p">)</span>
                <span class="c1"># ... or in the scope of a module directive</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">modname</span><span class="p">:</span>
                    <span class="n">modname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">ref_context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'py:module'</span><span class="p">)</span>
                <span class="c1"># ... else, it stays None, which means invalid</span>
        <span class="k">return</span> <span class="n">modname</span><span class="p">,</span> <span class="n">parents</span> <span class="o">+</span> <span class="p">[</span><span class="n">base</span><span class="p">]</span></div></div>


<div class="viewcode-block" id="ClassLevelDocumenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ClassLevelDocumenter">[docs]</a><span class="k">class</span> <span class="nc">ClassLevelDocumenter</span><span class="p">(</span><span class="n">Documenter</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Specialized Documenter subclass for objects on class level (methods,</span>
<span class="sd">    attributes).</span>
<span class="sd">    """</span>
<div class="viewcode-block" id="ClassLevelDocumenter.resolve_name"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ClassLevelDocumenter.resolve_name">[docs]</a>    <span class="k">def</span> <span class="nf">resolve_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">modname</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">parents</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">base</span><span class="p">:</span> <span class="n">Any</span>
                     <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">if</span> <span class="n">modname</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
                <span class="n">mod_cls</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">'.'</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">mod_cls</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="c1"># if documenting a class-level object without path,</span>
                <span class="c1"># there must be a current class, either from a parent</span>
                <span class="c1"># auto directive ...</span>
                <span class="n">mod_cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">temp_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'autodoc:class'</span><span class="p">)</span>
                <span class="c1"># ... or from a class directive</span>
                <span class="k">if</span> <span class="n">mod_cls</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">mod_cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">ref_context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'py:class'</span><span class="p">)</span>
                <span class="c1"># ... if still None, there's no way to know</span>
                <span class="k">if</span> <span class="n">mod_cls</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="p">[]</span>
            <span class="n">modname</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="bp">cls</span> <span class="o">=</span> <span class="n">mod_cls</span><span class="o">.</span><span class="n">rpartition</span><span class="p">(</span><span class="s1">'.'</span><span class="p">)</span>
            <span class="n">parents</span> <span class="o">=</span> <span class="p">[</span><span class="bp">cls</span><span class="p">]</span>
            <span class="c1"># if the module name is still missing, get it like above</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">modname</span><span class="p">:</span>
                <span class="n">modname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">temp_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'autodoc:module'</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">modname</span><span class="p">:</span>
                <span class="n">modname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">ref_context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'py:module'</span><span class="p">)</span>
            <span class="c1"># ... else, it stays None, which means invalid</span>
        <span class="k">return</span> <span class="n">modname</span><span class="p">,</span> <span class="n">parents</span> <span class="o">+</span> <span class="p">[</span><span class="n">base</span><span class="p">]</span></div></div>


<div class="viewcode-block" id="DocstringSignatureMixin"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.DocstringSignatureMixin">[docs]</a><span class="k">class</span> <span class="nc">DocstringSignatureMixin</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Mixin for FunctionDocumenter and MethodDocumenter to provide the</span>
<span class="sd">    feature of reading the signature from the docstring.</span>
<span class="sd">    """</span>
    <span class="n">_new_docstrings</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: List[List[str]]</span>
    <span class="n">_signatures</span> <span class="o">=</span> <span class="kc">None</span>      <span class="c1"># type: List[str]</span>

    <span class="k">def</span> <span class="nf">_find_signature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">"The 'encoding' argument to autodoc.</span><span class="si">%s</span><span class="s2">._find_signature() is "</span>
                          <span class="s2">"deprecated."</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                          <span class="n">RemovedInSphinx40Warning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="c1"># candidates of the object name</span>
        <span class="n">valid_names</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>  <span class="c1"># type: ignore</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ClassDocumenter</span><span class="p">):</span>
            <span class="n">valid_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'__init__'</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__mro__'</span><span class="p">):</span>
                <span class="n">valid_names</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">for</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="vm">__mro__</span><span class="p">)</span>

        <span class="n">docstrings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_doc</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_new_docstrings</span> <span class="o">=</span> <span class="n">docstrings</span><span class="p">[:]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_signatures</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">doclines</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">docstrings</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">doclines</span><span class="p">):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="p">:</span>
                    <span class="c1"># no lines in docstring, no match</span>
                    <span class="k">break</span>

                <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">'</span><span class="se">\\</span><span class="s1">'</span><span class="p">):</span>
                    <span class="n">multiline</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">'</span><span class="se">\\</span><span class="s1">'</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">multiline</span> <span class="o">=</span> <span class="kc">False</span>

                <span class="c1"># match first line of docstring against signature RE</span>
                <span class="n">match</span> <span class="o">=</span> <span class="n">py_ext_sig_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">match</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="n">exmod</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">retann</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>

                <span class="c1"># the base name must match ours</span>
                <span class="k">if</span> <span class="n">base</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_names</span><span class="p">:</span>
                    <span class="k">continue</span>

                <span class="c1"># re-prepare docstring to ignore more leading indentation</span>
                <span class="n">tab_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">directive</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">document</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">tab_width</span>  <span class="c1"># type: ignore</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_new_docstrings</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">prepare_docstring</span><span class="p">(</span><span class="s1">'</span><span class="se">\n</span><span class="s1">'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">doclines</span><span class="p">[</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]),</span>
                                                            <span class="n">tabsize</span><span class="o">=</span><span class="n">tab_width</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="c1"># first signature</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="n">args</span><span class="p">,</span> <span class="n">retann</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># subsequent signatures</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_signatures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"(</span><span class="si">%s</span><span class="s2">) -&gt; </span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">retann</span><span class="p">))</span>

                <span class="k">if</span> <span class="n">multiline</span><span class="p">:</span>
                    <span class="c1"># the signature have multiple signatures on docstring</span>
                    <span class="k">continue</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># don't look any further</span>
                    <span class="k">break</span>

            <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
                <span class="c1"># finish the loop when signature found</span>
                <span class="k">break</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_doc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">if</span> <span class="n">encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">"The 'encoding' argument to autodoc.</span><span class="si">%s</span><span class="s2">.get_doc() is deprecated."</span>
                          <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                          <span class="n">RemovedInSphinx40Warning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_new_docstrings</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_new_docstrings</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_doc</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">ignore</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span> <span class="nf">format_signature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autodoc_docstring_signature</span><span class="p">:</span>  <span class="c1"># type: ignore</span>
            <span class="c1"># only act if a signature is not explicitly given already, and if</span>
            <span class="c1"># the feature is enabled</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_signature</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">retann</span> <span class="o">=</span> <span class="n">result</span>
        <span class="n">sig</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">format_signature</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_signatures</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">sig</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_signatures</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">sig</span></div>


<div class="viewcode-block" id="DocstringStripSignatureMixin"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.DocstringStripSignatureMixin">[docs]</a><span class="k">class</span> <span class="nc">DocstringStripSignatureMixin</span><span class="p">(</span><span class="n">DocstringSignatureMixin</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Mixin for AttributeDocumenter to provide the</span>
<span class="sd">    feature of stripping any function signature from the docstring.</span>
<span class="sd">    """</span>
    <span class="k">def</span> <span class="nf">format_signature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autodoc_docstring_signature</span><span class="p">:</span>  <span class="c1"># type: ignore</span>
            <span class="c1"># only act if a signature is not explicitly given already, and if</span>
            <span class="c1"># the feature is enabled</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_signature</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1"># Discarding _args is a only difference with</span>
                <span class="c1"># DocstringSignatureMixin.format_signature.</span>
                <span class="c1"># Documenter.format_signature use self.args value to format.</span>
                <span class="n">_args</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">retann</span> <span class="o">=</span> <span class="n">result</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">format_signature</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="FunctionDocumenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.FunctionDocumenter">[docs]</a><span class="k">class</span> <span class="nc">FunctionDocumenter</span><span class="p">(</span><span class="n">DocstringSignatureMixin</span><span class="p">,</span> <span class="n">ModuleLevelDocumenter</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
    <span class="sd">"""</span>
<span class="sd">    Specialized Documenter subclass for functions.</span>
<span class="sd">    """</span>
    <span class="n">objtype</span> <span class="o">=</span> <span class="s1">'function'</span>
    <span class="n">member_order</span> <span class="o">=</span> <span class="mi">30</span>

<div class="viewcode-block" id="FunctionDocumenter.can_document_member"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.FunctionDocumenter.can_document_member">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">can_document_member</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">membername</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">isattr</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Any</span>
                            <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># supports functions, builtins and bound methods exported at the module level</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">isfunction</span><span class="p">(</span><span class="n">member</span><span class="p">)</span> <span class="ow">or</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isbuiltin</span><span class="p">(</span><span class="n">member</span><span class="p">)</span> <span class="ow">or</span>
                <span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">isroutine</span><span class="p">(</span><span class="n">member</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">ModuleDocumenter</span><span class="p">)))</span></div>

<div class="viewcode-block" id="FunctionDocumenter.format_args"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.FunctionDocumenter.format_args">[docs]</a>    <span class="k">def</span> <span class="nf">format_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autodoc_typehints</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">'none'</span><span class="p">,</span> <span class="s1">'description'</span><span class="p">):</span>
            <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">'show_annotation'</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s1">'autodoc-before-process-signature'</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="n">sig</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="n">follow_wrapped</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">stringify_signature</span><span class="p">(</span><span class="n">sig</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">__</span><span class="p">(</span><span class="s2">"Failed to get a function signature for </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">"</span><span class="p">),</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">fullname</span><span class="p">,</span> <span class="n">exc</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="s1">''</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">strip_signature_backslash</span><span class="p">:</span>
            <span class="c1"># escape backslashes for reST</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'</span><span class="se">\\</span><span class="s1">'</span><span class="p">,</span> <span class="s1">'</span><span class="se">\\\\</span><span class="s1">'</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">args</span></div>

<div class="viewcode-block" id="FunctionDocumenter.document_members"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.FunctionDocumenter.document_members">[docs]</a>    <span class="k">def</span> <span class="nf">document_members</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">all_members</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="FunctionDocumenter.add_directive_header"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.FunctionDocumenter.add_directive_header">[docs]</a>    <span class="k">def</span> <span class="nf">add_directive_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sig</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">sourcename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sourcename</span><span class="p">()</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_directive_header</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">iscoroutinefunction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :async:'</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span></div>

<div class="viewcode-block" id="FunctionDocumenter.format_signature"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.FunctionDocumenter.format_signature">[docs]</a>    <span class="k">def</span> <span class="nf">format_signature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">sigs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span> <span class="ow">and</span> <span class="s1">'.'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="o">.</span><span class="n">overloads</span><span class="p">:</span>
            <span class="c1"># Use signatures for overloaded functions instead of the implementation function.</span>
            <span class="n">overloaded</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">overloaded</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">sig</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">format_signature</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="n">sigs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">is_singledispatch_function</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">):</span>
            <span class="c1"># append signature of singledispatch'ed functions</span>
            <span class="k">for</span> <span class="n">typ</span><span class="p">,</span> <span class="n">func</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">typ</span> <span class="ow">is</span> <span class="nb">object</span><span class="p">:</span>
                    <span class="k">pass</span>  <span class="c1"># default implementation. skipped.</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">annotate_to_first_argument</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">typ</span><span class="p">)</span>

                    <span class="n">documenter</span> <span class="o">=</span> <span class="n">FunctionDocumenter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directive</span><span class="p">,</span> <span class="s1">''</span><span class="p">)</span>
                    <span class="n">documenter</span><span class="o">.</span><span class="n">object</span> <span class="o">=</span> <span class="n">func</span>
                    <span class="n">documenter</span><span class="o">.</span><span class="n">objpath</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span>
                    <span class="n">sigs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">documenter</span><span class="o">.</span><span class="n">format_signature</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">overloaded</span><span class="p">:</span>
            <span class="vm">__globals__</span> <span class="o">=</span> <span class="n">safe_getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__globals__'</span><span class="p">,</span> <span class="p">{})</span>
            <span class="k">for</span> <span class="n">overload</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="o">.</span><span class="n">overloads</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'.'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">)):</span>
                <span class="n">overload</span> <span class="o">=</span> <span class="n">evaluate_signature</span><span class="p">(</span><span class="n">overload</span><span class="p">,</span> <span class="vm">__globals__</span><span class="p">)</span>
                <span class="n">sig</span> <span class="o">=</span> <span class="n">stringify_signature</span><span class="p">(</span><span class="n">overload</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="n">sigs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>

        <span class="k">return</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sigs</span><span class="p">)</span></div>

<div class="viewcode-block" id="FunctionDocumenter.annotate_to_first_argument"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.FunctionDocumenter.annotate_to_first_argument">[docs]</a>    <span class="k">def</span> <span class="nf">annotate_to_first_argument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">typ</span><span class="p">:</span> <span class="n">Type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">"""Annotate type hint to the first argument of function if needed."""</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sig</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">__</span><span class="p">(</span><span class="s2">"Failed to get a function signature for </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">"</span><span class="p">),</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">fullname</span><span class="p">,</span> <span class="n">exc</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sig</span><span class="o">.</span><span class="n">parameters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">params</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">sig</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">params</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">annotation</span> <span class="ow">is</span> <span class="n">Parameter</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">annotation</span><span class="o">=</span><span class="n">typ</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">func</span><span class="o">.</span><span class="n">__signature__</span> <span class="o">=</span> <span class="n">sig</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">parameters</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
                <span class="c1"># failed to update signature (ex. built-in or extension types)</span>
                <span class="k">return</span></div></div>


<div class="viewcode-block" id="SingledispatchFunctionDocumenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.SingledispatchFunctionDocumenter">[docs]</a><span class="k">class</span> <span class="nc">SingledispatchFunctionDocumenter</span><span class="p">(</span><span class="n">FunctionDocumenter</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Used to be a specialized Documenter subclass for singledispatch'ed functions.</span>

<span class="sd">    Retained for backwards compatibility, now does the same as the FunctionDocumenter</span>
<span class="sd">    """</span></div>


<div class="viewcode-block" id="DecoratorDocumenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.DecoratorDocumenter">[docs]</a><span class="k">class</span> <span class="nc">DecoratorDocumenter</span><span class="p">(</span><span class="n">FunctionDocumenter</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Specialized Documenter subclass for decorator functions.</span>
<span class="sd">    """</span>
    <span class="n">objtype</span> <span class="o">=</span> <span class="s1">'decorator'</span>

    <span class="c1"># must be lower than FunctionDocumenter</span>
    <span class="n">priority</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

<div class="viewcode-block" id="DecoratorDocumenter.format_args"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.DecoratorDocumenter.format_args">[docs]</a>    <span class="k">def</span> <span class="nf">format_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="n">args</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">format_args</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">','</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">args</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div></div>


<span class="c1"># Types which have confusing metaclass signatures it would be best not to show.</span>
<span class="c1"># These are listed by name, rather than storing the objects themselves, to avoid</span>
<span class="c1"># needing to import the modules.</span>
<span class="n">_METACLASS_CALL_BLACKLIST</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'enum.EnumMeta.__call__'</span><span class="p">,</span>
<span class="p">]</span>


<div class="viewcode-block" id="ClassDocumenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ClassDocumenter">[docs]</a><span class="k">class</span> <span class="nc">ClassDocumenter</span><span class="p">(</span><span class="n">DocstringSignatureMixin</span><span class="p">,</span> <span class="n">ModuleLevelDocumenter</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
    <span class="sd">"""</span>
<span class="sd">    Specialized Documenter subclass for classes.</span>
<span class="sd">    """</span>
    <span class="n">objtype</span> <span class="o">=</span> <span class="s1">'class'</span>
    <span class="n">member_order</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="n">option_spec</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">'members'</span><span class="p">:</span> <span class="n">members_option</span><span class="p">,</span> <span class="s1">'undoc-members'</span><span class="p">:</span> <span class="n">bool_option</span><span class="p">,</span>
        <span class="s1">'noindex'</span><span class="p">:</span> <span class="n">bool_option</span><span class="p">,</span> <span class="s1">'inherited-members'</span><span class="p">:</span> <span class="n">inherited_members_option</span><span class="p">,</span>
        <span class="s1">'show-inheritance'</span><span class="p">:</span> <span class="n">bool_option</span><span class="p">,</span> <span class="s1">'member-order'</span><span class="p">:</span> <span class="n">member_order_option</span><span class="p">,</span>
        <span class="s1">'exclude-members'</span><span class="p">:</span> <span class="n">exclude_members_option</span><span class="p">,</span>
        <span class="s1">'private-members'</span><span class="p">:</span> <span class="n">members_option</span><span class="p">,</span> <span class="s1">'special-members'</span><span class="p">:</span> <span class="n">members_option</span><span class="p">,</span>
    <span class="p">}</span>  <span class="c1"># type: Dict[str, Callable]</span>

    <span class="n">_signature_class</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: Any</span>
    <span class="n">_signature_method_name</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: str</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="n">merge_members_option</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>

<div class="viewcode-block" id="ClassDocumenter.can_document_member"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ClassDocumenter.can_document_member">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">can_document_member</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">membername</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">isattr</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Any</span>
                            <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span></div>

<div class="viewcode-block" id="ClassDocumenter.import_object"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ClassDocumenter.import_object">[docs]</a>    <span class="k">def</span> <span class="nf">import_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raiseerror</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">import_object</span><span class="p">(</span><span class="n">raiseerror</span><span class="p">)</span>
        <span class="c1"># if the class is documented under another name, document it</span>
        <span class="c1"># as data/attribute</span>
        <span class="k">if</span> <span class="n">ret</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__name__'</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">doc_as_attr</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">doc_as_attr</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">ret</span></div>

    <span class="k">def</span> <span class="nf">_get_signature</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Signature</span><span class="p">]]:</span>
        <span class="k">def</span> <span class="nf">get_user_defined_function_or_method</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">attr</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
            <span class="sd">""" Get the `attr` function or method from `obj`, if it is user-defined. """</span>
            <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">is_builtin_class_method</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="n">attr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">ismethod</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span> <span class="ow">or</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isfunction</span><span class="p">(</span><span class="n">attr</span><span class="p">)):</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="n">attr</span>

        <span class="c1"># This sequence is copied from inspect._signature_from_callable.</span>
        <span class="c1"># ValueError means that no signature could be found, so we keep going.</span>

        <span class="c1"># First, let's see if it has an overloaded __call__ defined</span>
        <span class="c1"># in its metaclass</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">get_user_defined_function_or_method</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">),</span> <span class="s1">'__call__'</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">call</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">"</span><span class="si">{0.__module__}</span><span class="s2">.</span><span class="si">{0.__qualname__}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">call</span><span class="p">)</span> <span class="ow">in</span> <span class="n">_METACLASS_CALL_BLACKLIST</span><span class="p">:</span>
                <span class="n">call</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">call</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s1">'autodoc-before-process-signature'</span><span class="p">,</span> <span class="n">call</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">sig</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="n">call</span><span class="p">,</span> <span class="n">bound_method</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">),</span> <span class="s1">'__call__'</span><span class="p">,</span> <span class="n">sig</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="c1"># Now we check if the 'obj' class has a '__new__' method</span>
        <span class="n">new</span> <span class="o">=</span> <span class="n">get_user_defined_function_or_method</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__new__'</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">new</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s1">'autodoc-before-process-signature'</span><span class="p">,</span> <span class="n">new</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">sig</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="n">new</span><span class="p">,</span> <span class="n">bound_method</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__new__'</span><span class="p">,</span> <span class="n">sig</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="c1"># Finally, we should have at least __init__ implemented</span>
        <span class="n">init</span> <span class="o">=</span> <span class="n">get_user_defined_function_or_method</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__init__'</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">init</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s1">'autodoc-before-process-signature'</span><span class="p">,</span> <span class="n">init</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">sig</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="n">init</span><span class="p">,</span> <span class="n">bound_method</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__init__'</span><span class="p">,</span> <span class="n">sig</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="c1"># None of the attributes are user-defined, so fall back to let inspect</span>
        <span class="c1"># handle it.</span>
        <span class="c1"># We don't know the exact method that inspect.signature will read</span>
        <span class="c1"># the signature from, so just pass the object itself to our hook.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s1">'autodoc-before-process-signature'</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sig</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="n">bound_method</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">sig</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="c1"># Still no signature: happens e.g. for old-style classes</span>
        <span class="c1"># with __init__ in C and no `__text_signature__`.</span>
        <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>

<div class="viewcode-block" id="ClassDocumenter.format_args"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ClassDocumenter.format_args">[docs]</a>    <span class="k">def</span> <span class="nf">format_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autodoc_typehints</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">'none'</span><span class="p">,</span> <span class="s1">'description'</span><span class="p">):</span>
            <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">'show_annotation'</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_signature_class</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_signature_method_name</span><span class="p">,</span> <span class="n">sig</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_signature</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="c1"># __signature__ attribute contained junk</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">__</span><span class="p">(</span><span class="s2">"Failed to get a constructor signature for </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">"</span><span class="p">),</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">fullname</span><span class="p">,</span> <span class="n">exc</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">sig</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="n">stringify_signature</span><span class="p">(</span><span class="n">sig</span><span class="p">,</span> <span class="n">show_return_annotation</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="ClassDocumenter.format_signature"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ClassDocumenter.format_signature">[docs]</a>    <span class="k">def</span> <span class="nf">format_signature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc_as_attr</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">''</span>

        <span class="n">sig</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">format_signature</span><span class="p">()</span>

        <span class="n">overloaded</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">qualname</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># TODO: recreate analyzer for the module of class (To be clear, owner of the method)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_signature_class</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_signature_method_name</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="p">:</span>
            <span class="n">qualname</span> <span class="o">=</span> <span class="s1">'.'</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">_signature_class</span><span class="o">.</span><span class="vm">__qualname__</span><span class="p">,</span>
                                 <span class="bp">self</span><span class="o">.</span><span class="n">_signature_method_name</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">qualname</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="o">.</span><span class="n">overloads</span><span class="p">:</span>
                <span class="n">overloaded</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">sigs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">overloaded</span><span class="p">:</span>
            <span class="c1"># Use signatures for overloaded methods instead of the implementation method.</span>
            <span class="n">method</span> <span class="o">=</span> <span class="n">safe_getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_signature_class</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_signature_method_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="vm">__globals__</span> <span class="o">=</span> <span class="n">safe_getattr</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="s1">'__globals__'</span><span class="p">,</span> <span class="p">{})</span>
            <span class="k">for</span> <span class="n">overload</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="o">.</span><span class="n">overloads</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">qualname</span><span class="p">):</span>
                <span class="n">overload</span> <span class="o">=</span> <span class="n">evaluate_signature</span><span class="p">(</span><span class="n">overload</span><span class="p">,</span> <span class="vm">__globals__</span><span class="p">)</span>

                <span class="n">parameters</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">overload</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
                <span class="n">overload</span> <span class="o">=</span> <span class="n">overload</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span>
                                            <span class="n">return_annotation</span><span class="o">=</span><span class="n">Parameter</span><span class="o">.</span><span class="n">empty</span><span class="p">)</span>
                <span class="n">sig</span> <span class="o">=</span> <span class="n">stringify_signature</span><span class="p">(</span><span class="n">overload</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="n">sigs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sigs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>

        <span class="k">return</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sigs</span><span class="p">)</span></div>

<div class="viewcode-block" id="ClassDocumenter.add_directive_header"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ClassDocumenter.add_directive_header">[docs]</a>    <span class="k">def</span> <span class="nf">add_directive_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sig</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">sourcename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sourcename</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc_as_attr</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">directivetype</span> <span class="o">=</span> <span class="s1">'attribute'</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_directive_header</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span> <span class="ow">and</span> <span class="s1">'.'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="o">.</span><span class="n">finals</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :final:'</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span>

        <span class="c1"># add inheritance info, if wanted</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc_as_attr</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">show_inheritance</span><span class="p">:</span>
            <span class="n">sourcename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sourcename</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__bases__'</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="vm">__bases__</span><span class="p">):</span>
                <span class="n">bases</span> <span class="o">=</span> <span class="p">[</span><span class="s1">':class:`</span><span class="si">%s</span><span class="s1">`'</span> <span class="o">%</span> <span class="n">b</span><span class="o">.</span><span class="vm">__name__</span>
                         <span class="k">if</span> <span class="n">b</span><span class="o">.</span><span class="vm">__module__</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">'__builtin__'</span><span class="p">,</span> <span class="s1">'builtins'</span><span class="p">)</span>
                         <span class="k">else</span> <span class="s1">':class:`</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">`'</span> <span class="o">%</span> <span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="vm">__qualname__</span><span class="p">)</span>
                         <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="vm">__bases__</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   '</span> <span class="o">+</span> <span class="n">_</span><span class="p">(</span><span class="s1">'Bases: </span><span class="si">%s</span><span class="s1">'</span><span class="p">)</span> <span class="o">%</span> <span class="s1">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bases</span><span class="p">),</span>
                              <span class="n">sourcename</span><span class="p">)</span></div>

<div class="viewcode-block" id="ClassDocumenter.get_doc"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ClassDocumenter.get_doc">[docs]</a>    <span class="k">def</span> <span class="nf">get_doc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">if</span> <span class="n">encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">"The 'encoding' argument to autodoc.</span><span class="si">%s</span><span class="s2">.get_doc() is deprecated."</span>
                          <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                          <span class="n">RemovedInSphinx40Warning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">'_new_docstrings'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">lines</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">lines</span>

        <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autoclass_content</span>

        <span class="n">docstrings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">attrdocstring</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__doc__'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">attrdocstring</span><span class="p">:</span>
            <span class="n">docstrings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">attrdocstring</span><span class="p">)</span>

        <span class="c1"># for classes, what the "docstring" is can be controlled via a</span>
        <span class="c1"># config value; the default is only the class docstring</span>
        <span class="k">if</span> <span class="n">content</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">'both'</span><span class="p">,</span> <span class="s1">'init'</span><span class="p">):</span>
            <span class="fm">__init__</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__init__'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="n">initdocstring</span> <span class="o">=</span> <span class="n">getdoc</span><span class="p">(</span><span class="fm">__init__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autodoc_inherit_docstrings</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_name</span><span class="p">)</span>
            <span class="c1"># for new-style classes, no __init__ means default __init__</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">initdocstring</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span>
                <span class="p">(</span><span class="n">initdocstring</span> <span class="o">==</span> <span class="nb">object</span><span class="o">.</span><span class="fm">__init__</span><span class="o">.</span><span class="vm">__doc__</span> <span class="ow">or</span>  <span class="c1"># for pypy</span>
                 <span class="n">initdocstring</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="nb">object</span><span class="o">.</span><span class="fm">__init__</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)):</span>  <span class="c1"># for !pypy</span>
                <span class="n">initdocstring</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">initdocstring</span><span class="p">:</span>
                <span class="c1"># try __new__</span>
                <span class="fm">__new__</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__new__'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="n">initdocstring</span> <span class="o">=</span> <span class="n">getdoc</span><span class="p">(</span><span class="fm">__new__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">,</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autodoc_inherit_docstrings</span><span class="p">,</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_name</span><span class="p">)</span>
                <span class="c1"># for new-style classes, no __new__ means default __new__</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">initdocstring</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span>
                    <span class="p">(</span><span class="n">initdocstring</span> <span class="o">==</span> <span class="nb">object</span><span class="o">.</span><span class="fm">__new__</span><span class="o">.</span><span class="vm">__doc__</span> <span class="ow">or</span>  <span class="c1"># for pypy</span>
                     <span class="n">initdocstring</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="nb">object</span><span class="o">.</span><span class="fm">__new__</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)):</span>  <span class="c1"># for !pypy</span>
                    <span class="n">initdocstring</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">initdocstring</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">content</span> <span class="o">==</span> <span class="s1">'init'</span><span class="p">:</span>
                    <span class="n">docstrings</span> <span class="o">=</span> <span class="p">[</span><span class="n">initdocstring</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">docstrings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">initdocstring</span><span class="p">)</span>

        <span class="n">tab_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">directive</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">document</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">tab_width</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">prepare_docstring</span><span class="p">(</span><span class="n">docstring</span><span class="p">,</span> <span class="n">ignore</span><span class="p">,</span> <span class="n">tab_width</span><span class="p">)</span> <span class="k">for</span> <span class="n">docstring</span> <span class="ow">in</span> <span class="n">docstrings</span><span class="p">]</span></div>

<div class="viewcode-block" id="ClassDocumenter.add_content"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ClassDocumenter.add_content">[docs]</a>    <span class="k">def</span> <span class="nf">add_content</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">more_content</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">no_docstring</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc_as_attr</span><span class="p">:</span>
            <span class="n">classname</span> <span class="o">=</span> <span class="n">safe_getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__qualname__'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">classname</span><span class="p">:</span>
                <span class="n">classname</span> <span class="o">=</span> <span class="n">safe_getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__name__'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">classname</span><span class="p">:</span>
                <span class="n">module</span> <span class="o">=</span> <span class="n">safe_getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__module__'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="n">parentmodule</span> <span class="o">=</span> <span class="n">safe_getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="s1">'__module__'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">module</span> <span class="ow">and</span> <span class="n">module</span> <span class="o">!=</span> <span class="n">parentmodule</span><span class="p">:</span>
                    <span class="n">classname</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">module</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'.'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">classname</span><span class="p">)</span>
                <span class="n">content</span> <span class="o">=</span> <span class="n">StringList</span><span class="p">([</span><span class="n">_</span><span class="p">(</span><span class="s1">'alias of :class:`</span><span class="si">%s</span><span class="s1">`'</span><span class="p">)</span> <span class="o">%</span> <span class="n">classname</span><span class="p">],</span> <span class="n">source</span><span class="o">=</span><span class="s1">''</span><span class="p">)</span>
                <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_content</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">no_docstring</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_content</span><span class="p">(</span><span class="n">more_content</span><span class="p">)</span></div>

<div class="viewcode-block" id="ClassDocumenter.document_members"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ClassDocumenter.document_members">[docs]</a>    <span class="k">def</span> <span class="nf">document_members</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">all_members</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc_as_attr</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">document_members</span><span class="p">(</span><span class="n">all_members</span><span class="p">)</span></div>

<div class="viewcode-block" id="ClassDocumenter.generate"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ClassDocumenter.generate">[docs]</a>    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">more_content</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">real_modname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">check_module</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">all_members</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Do not pass real_modname and use the name from the __module__</span>
        <span class="c1"># attribute of the class.</span>
        <span class="c1"># If a class gets imported into the module real_modname</span>
        <span class="c1"># the analyzer won't find the source of the class, if</span>
        <span class="c1"># it looks in real_modname.</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">more_content</span><span class="o">=</span><span class="n">more_content</span><span class="p">,</span>
                                <span class="n">check_module</span><span class="o">=</span><span class="n">check_module</span><span class="p">,</span>
                                <span class="n">all_members</span><span class="o">=</span><span class="n">all_members</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="ExceptionDocumenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ExceptionDocumenter">[docs]</a><span class="k">class</span> <span class="nc">ExceptionDocumenter</span><span class="p">(</span><span class="n">ClassDocumenter</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Specialized ClassDocumenter subclass for exceptions.</span>
<span class="sd">    """</span>
    <span class="n">objtype</span> <span class="o">=</span> <span class="s1">'exception'</span>
    <span class="n">member_order</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="c1"># needs a higher priority than ClassDocumenter</span>
    <span class="n">priority</span> <span class="o">=</span> <span class="mi">10</span>

<div class="viewcode-block" id="ExceptionDocumenter.can_document_member"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.ExceptionDocumenter.can_document_member">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">can_document_member</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">membername</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">isattr</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Any</span>
                            <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="ne">BaseException</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="DataDocumenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.DataDocumenter">[docs]</a><span class="k">class</span> <span class="nc">DataDocumenter</span><span class="p">(</span><span class="n">ModuleLevelDocumenter</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Specialized Documenter subclass for data items.</span>
<span class="sd">    """</span>
    <span class="n">objtype</span> <span class="o">=</span> <span class="s1">'data'</span>
    <span class="n">member_order</span> <span class="o">=</span> <span class="mi">40</span>
    <span class="n">priority</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span>
    <span class="n">option_spec</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">ModuleLevelDocumenter</span><span class="o">.</span><span class="n">option_spec</span><span class="p">)</span>
    <span class="n">option_spec</span><span class="p">[</span><span class="s2">"annotation"</span><span class="p">]</span> <span class="o">=</span> <span class="n">annotation_option</span>

<div class="viewcode-block" id="DataDocumenter.can_document_member"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.DataDocumenter.can_document_member">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">can_document_member</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">membername</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">isattr</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Any</span>
                            <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">ModuleDocumenter</span><span class="p">)</span> <span class="ow">and</span> <span class="n">isattr</span></div>

<div class="viewcode-block" id="DataDocumenter.add_directive_header"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.DataDocumenter.add_directive_header">[docs]</a>    <span class="k">def</span> <span class="nf">add_directive_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sig</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_directive_header</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>
        <span class="n">sourcename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sourcename</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">annotation</span><span class="p">:</span>
            <span class="c1"># obtain annotation for this data</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">annotations</span> <span class="o">=</span> <span class="n">get_type_hints</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
                <span class="c1"># Failed to evaluate ForwardRef (maybe TYPE_CHECKING)</span>
                <span class="n">annotations</span> <span class="o">=</span> <span class="n">safe_getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="s1">'__annotations__'</span><span class="p">,</span> <span class="p">{})</span>
            <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
                <span class="n">annotations</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="c1"># a broken class found (refs: https://github.com/sphinx-doc/sphinx/issues/8084)</span>
                <span class="n">annotations</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="c1"># AttributeError is raised on 3.5.2 (fixed by 3.5.3)</span>
                <span class="n">annotations</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">annotations</span><span class="p">:</span>
                <span class="n">objrepr</span> <span class="o">=</span> <span class="n">stringify_typehint</span><span class="p">(</span><span class="n">annotations</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :type: '</span> <span class="o">+</span> <span class="n">objrepr</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'.'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="o">.</span><span class="n">annotations</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :type: '</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="o">.</span><span class="n">annotations</span><span class="p">[</span><span class="n">key</span><span class="p">],</span>
                                  <span class="n">sourcename</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span> <span class="ow">is</span> <span class="n">UNINITIALIZED_ATTR</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">objrepr</span> <span class="o">=</span> <span class="n">object_description</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :value: '</span> <span class="o">+</span> <span class="n">objrepr</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">annotation</span> <span class="ow">is</span> <span class="n">SUPPRESS</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :annotation: </span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">annotation</span><span class="p">,</span>
                          <span class="n">sourcename</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataDocumenter.document_members"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.DataDocumenter.document_members">[docs]</a>    <span class="k">def</span> <span class="nf">document_members</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">all_members</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="DataDocumenter.get_real_modname"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.DataDocumenter.get_real_modname">[docs]</a>    <span class="k">def</span> <span class="nf">get_real_modname</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__module__'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> \
            <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">modname</span></div></div>


<div class="viewcode-block" id="DataDeclarationDocumenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.DataDeclarationDocumenter">[docs]</a><span class="k">class</span> <span class="nc">DataDeclarationDocumenter</span><span class="p">(</span><span class="n">DataDocumenter</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Specialized Documenter subclass for data that cannot be imported</span>
<span class="sd">    because they are declared without initial value (refs: PEP-526).</span>
<span class="sd">    """</span>
    <span class="n">objtype</span> <span class="o">=</span> <span class="s1">'datadecl'</span>
    <span class="n">directivetype</span> <span class="o">=</span> <span class="s1">'data'</span>
    <span class="n">member_order</span> <span class="o">=</span> <span class="mi">60</span>

    <span class="c1"># must be higher than AttributeDocumenter</span>
    <span class="n">priority</span> <span class="o">=</span> <span class="mi">11</span>

<div class="viewcode-block" id="DataDeclarationDocumenter.can_document_member"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.DataDeclarationDocumenter.can_document_member">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">can_document_member</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">membername</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">isattr</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Any</span>
                            <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">"""This documents only INSTANCEATTR members."""</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">ModuleDocumenter</span><span class="p">)</span> <span class="ow">and</span>
                <span class="n">isattr</span> <span class="ow">and</span>
                <span class="n">member</span> <span class="ow">is</span> <span class="n">INSTANCEATTR</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataDeclarationDocumenter.import_object"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.DataDeclarationDocumenter.import_object">[docs]</a>    <span class="k">def</span> <span class="nf">import_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raiseerror</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">"""Never import anything."""</span>
        <span class="c1"># disguise as a data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">objtype</span> <span class="o">=</span> <span class="s1">'data'</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">object</span> <span class="o">=</span> <span class="n">UNINITIALIZED_ATTR</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># import module to obtain type annotation</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modname</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="DataDeclarationDocumenter.add_content"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.DataDeclarationDocumenter.add_content">[docs]</a>    <span class="k">def</span> <span class="nf">add_content</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">more_content</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">no_docstring</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">"""Never try to get a docstring from the object."""</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_content</span><span class="p">(</span><span class="n">more_content</span><span class="p">,</span> <span class="n">no_docstring</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="GenericAliasDocumenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.GenericAliasDocumenter">[docs]</a><span class="k">class</span> <span class="nc">GenericAliasDocumenter</span><span class="p">(</span><span class="n">DataDocumenter</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Specialized Documenter subclass for GenericAliases.</span>
<span class="sd">    """</span>

    <span class="n">objtype</span> <span class="o">=</span> <span class="s1">'genericalias'</span>
    <span class="n">directivetype</span> <span class="o">=</span> <span class="s1">'data'</span>
    <span class="n">priority</span> <span class="o">=</span> <span class="n">DataDocumenter</span><span class="o">.</span><span class="n">priority</span> <span class="o">+</span> <span class="mi">1</span>

<div class="viewcode-block" id="GenericAliasDocumenter.can_document_member"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.GenericAliasDocumenter.can_document_member">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">can_document_member</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">membername</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">isattr</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Any</span>
                            <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isgenericalias</span><span class="p">(</span><span class="n">member</span><span class="p">)</span></div>

<div class="viewcode-block" id="GenericAliasDocumenter.add_directive_header"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.GenericAliasDocumenter.add_directive_header">[docs]</a>    <span class="k">def</span> <span class="nf">add_directive_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sig</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">annotation</span> <span class="o">=</span> <span class="n">SUPPRESS</span>  <span class="c1"># type: ignore</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_directive_header</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span></div>

<div class="viewcode-block" id="GenericAliasDocumenter.add_content"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.GenericAliasDocumenter.add_content">[docs]</a>    <span class="k">def</span> <span class="nf">add_content</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">more_content</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">no_docstring</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">stringify_typehint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">)</span>
        <span class="n">content</span> <span class="o">=</span> <span class="n">StringList</span><span class="p">([</span><span class="n">_</span><span class="p">(</span><span class="s1">'alias of </span><span class="si">%s</span><span class="s1">'</span><span class="p">)</span> <span class="o">%</span> <span class="n">name</span><span class="p">],</span> <span class="n">source</span><span class="o">=</span><span class="s1">''</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_content</span><span class="p">(</span><span class="n">content</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TypeVarDocumenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.TypeVarDocumenter">[docs]</a><span class="k">class</span> <span class="nc">TypeVarDocumenter</span><span class="p">(</span><span class="n">DataDocumenter</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Specialized Documenter subclass for TypeVars.</span>
<span class="sd">    """</span>

    <span class="n">objtype</span> <span class="o">=</span> <span class="s1">'typevar'</span>
    <span class="n">directivetype</span> <span class="o">=</span> <span class="s1">'data'</span>
    <span class="n">priority</span> <span class="o">=</span> <span class="n">DataDocumenter</span><span class="o">.</span><span class="n">priority</span> <span class="o">+</span> <span class="mi">1</span>

<div class="viewcode-block" id="TypeVarDocumenter.can_document_member"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.TypeVarDocumenter.can_document_member">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">can_document_member</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">membername</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">isattr</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Any</span>
                            <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="n">TypeVar</span><span class="p">)</span> <span class="ow">and</span> <span class="n">isattr</span>  <span class="c1"># type: ignore</span></div>

<div class="viewcode-block" id="TypeVarDocumenter.add_directive_header"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.TypeVarDocumenter.add_directive_header">[docs]</a>    <span class="k">def</span> <span class="nf">add_directive_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sig</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">annotation</span> <span class="o">=</span> <span class="n">SUPPRESS</span>  <span class="c1"># type: ignore</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_directive_header</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span></div>

<div class="viewcode-block" id="TypeVarDocumenter.get_doc"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.TypeVarDocumenter.get_doc">[docs]</a>    <span class="k">def</span> <span class="nf">get_doc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">if</span> <span class="n">ignore</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">"The 'ignore' argument to autodoc.</span><span class="si">%s</span><span class="s2">.get_doc() is deprecated."</span>
                          <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                          <span class="n">RemovedInSphinx50Warning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">!=</span> <span class="n">TypeVar</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_doc</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="TypeVarDocumenter.add_content"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.TypeVarDocumenter.add_content">[docs]</a>    <span class="k">def</span> <span class="nf">add_content</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">more_content</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">no_docstring</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">attrs</span> <span class="o">=</span> <span class="p">[</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">constraint</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">__constraints__</span><span class="p">:</span>
            <span class="n">attrs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">stringify_typehint</span><span class="p">(</span><span class="n">constraint</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">__covariant__</span><span class="p">:</span>
            <span class="n">attrs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"covariant=True"</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">__contravariant__</span><span class="p">:</span>
            <span class="n">attrs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"contravariant=True"</span><span class="p">)</span>

        <span class="n">content</span> <span class="o">=</span> <span class="n">StringList</span><span class="p">([</span><span class="n">_</span><span class="p">(</span><span class="s1">'alias of TypeVar(</span><span class="si">%s</span><span class="s1">)'</span><span class="p">)</span> <span class="o">%</span> <span class="s2">", "</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">attrs</span><span class="p">)],</span> <span class="n">source</span><span class="o">=</span><span class="s1">''</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_content</span><span class="p">(</span><span class="n">content</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="MethodDocumenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.MethodDocumenter">[docs]</a><span class="k">class</span> <span class="nc">MethodDocumenter</span><span class="p">(</span><span class="n">DocstringSignatureMixin</span><span class="p">,</span> <span class="n">ClassLevelDocumenter</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
    <span class="sd">"""</span>
<span class="sd">    Specialized Documenter subclass for methods (normal, static and class).</span>
<span class="sd">    """</span>
    <span class="n">objtype</span> <span class="o">=</span> <span class="s1">'method'</span>
    <span class="n">directivetype</span> <span class="o">=</span> <span class="s1">'method'</span>
    <span class="n">member_order</span> <span class="o">=</span> <span class="mi">50</span>
    <span class="n">priority</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># must be more than FunctionDocumenter</span>

<div class="viewcode-block" id="MethodDocumenter.can_document_member"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.MethodDocumenter.can_document_member">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">can_document_member</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">membername</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">isattr</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Any</span>
                            <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isroutine</span><span class="p">(</span><span class="n">member</span><span class="p">)</span> <span class="ow">and</span> \
            <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">ModuleDocumenter</span><span class="p">)</span></div>

<div class="viewcode-block" id="MethodDocumenter.import_object"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.MethodDocumenter.import_object">[docs]</a>    <span class="k">def</span> <span class="nf">import_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raiseerror</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">import_object</span><span class="p">(</span><span class="n">raiseerror</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ret</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ret</span>

        <span class="c1"># to distinguish classmethod/staticmethod</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">isclassmethod</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="ow">or</span>
                <span class="n">inspect</span><span class="o">.</span><span class="n">isstaticmethod</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_name</span><span class="p">)):</span>
            <span class="c1"># document class and static members before ordinary ones</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">member_order</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">member_order</span> <span class="o">-</span> <span class="mi">1</span>

        <span class="k">return</span> <span class="n">ret</span></div>

<div class="viewcode-block" id="MethodDocumenter.format_args"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.MethodDocumenter.format_args">[docs]</a>    <span class="k">def</span> <span class="nf">format_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autodoc_typehints</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">'none'</span><span class="p">,</span> <span class="s1">'description'</span><span class="p">):</span>
            <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">'show_annotation'</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span> <span class="o">==</span> <span class="nb">object</span><span class="o">.</span><span class="fm">__init__</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">!=</span> <span class="nb">object</span><span class="p">:</span>
                <span class="c1"># Classes not having own __init__() method are shown as no arguments.</span>
                <span class="c1">#</span>
                <span class="c1"># Note: The signature of object.__init__() is (self, /, *args, **kwargs).</span>
                <span class="c1">#       But it makes users confused.</span>
                <span class="n">args</span> <span class="o">=</span> <span class="s1">'()'</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isstaticmethod</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_name</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s1">'autodoc-before-process-signature'</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
                    <span class="n">sig</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="n">bound_method</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s1">'autodoc-before-process-signature'</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
                    <span class="n">sig</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="n">bound_method</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                            <span class="n">follow_wrapped</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">args</span> <span class="o">=</span> <span class="n">stringify_signature</span><span class="p">(</span><span class="n">sig</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">__</span><span class="p">(</span><span class="s2">"Failed to get a method signature for </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">"</span><span class="p">),</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">fullname</span><span class="p">,</span> <span class="n">exc</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="s1">''</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">strip_signature_backslash</span><span class="p">:</span>
            <span class="c1"># escape backslashes for reST</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'</span><span class="se">\\</span><span class="s1">'</span><span class="p">,</span> <span class="s1">'</span><span class="se">\\\\</span><span class="s1">'</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">args</span></div>

<div class="viewcode-block" id="MethodDocumenter.add_directive_header"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.MethodDocumenter.add_directive_header">[docs]</a>    <span class="k">def</span> <span class="nf">add_directive_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sig</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_directive_header</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>

        <span class="n">sourcename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sourcename</span><span class="p">()</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isabstractmethod</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :abstractmethod:'</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">iscoroutinefunction</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :async:'</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isclassmethod</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :classmethod:'</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isstaticmethod</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_name</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :staticmethod:'</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span> <span class="ow">and</span> <span class="s1">'.'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="o">.</span><span class="n">finals</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :final:'</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span></div>

<div class="viewcode-block" id="MethodDocumenter.document_members"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.MethodDocumenter.document_members">[docs]</a>    <span class="k">def</span> <span class="nf">document_members</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">all_members</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="MethodDocumenter.format_signature"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.MethodDocumenter.format_signature">[docs]</a>    <span class="k">def</span> <span class="nf">format_signature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">sigs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span> <span class="ow">and</span> <span class="s1">'.'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="o">.</span><span class="n">overloads</span><span class="p">:</span>
            <span class="c1"># Use signatures for overloaded methods instead of the implementation method.</span>
            <span class="n">overloaded</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">overloaded</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">sig</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">format_signature</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="n">sigs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>

        <span class="n">meth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">is_singledispatch_method</span><span class="p">(</span><span class="n">meth</span><span class="p">):</span>
            <span class="c1"># append signature of singledispatch'ed functions</span>
            <span class="k">for</span> <span class="n">typ</span><span class="p">,</span> <span class="n">func</span> <span class="ow">in</span> <span class="n">meth</span><span class="o">.</span><span class="n">dispatcher</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">typ</span> <span class="ow">is</span> <span class="nb">object</span><span class="p">:</span>
                    <span class="k">pass</span>  <span class="c1"># default implementation. skipped.</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">annotate_to_first_argument</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">typ</span><span class="p">)</span>

                    <span class="n">documenter</span> <span class="o">=</span> <span class="n">MethodDocumenter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directive</span><span class="p">,</span> <span class="s1">''</span><span class="p">)</span>
                    <span class="n">documenter</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span>
                    <span class="n">documenter</span><span class="o">.</span><span class="n">object</span> <span class="o">=</span> <span class="n">func</span>
                    <span class="n">documenter</span><span class="o">.</span><span class="n">objpath</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span>
                    <span class="n">sigs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">documenter</span><span class="o">.</span><span class="n">format_signature</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">overloaded</span><span class="p">:</span>
            <span class="vm">__globals__</span> <span class="o">=</span> <span class="n">safe_getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__globals__'</span><span class="p">,</span> <span class="p">{})</span>
            <span class="k">for</span> <span class="n">overload</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="o">.</span><span class="n">overloads</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'.'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">)):</span>
                <span class="n">overload</span> <span class="o">=</span> <span class="n">evaluate_signature</span><span class="p">(</span><span class="n">overload</span><span class="p">,</span> <span class="vm">__globals__</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isstaticmethod</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span>
                                              <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">object_name</span><span class="p">):</span>
                    <span class="n">parameters</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">overload</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
                    <span class="n">overload</span> <span class="o">=</span> <span class="n">overload</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
                <span class="n">sig</span> <span class="o">=</span> <span class="n">stringify_signature</span><span class="p">(</span><span class="n">overload</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="n">sigs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>

        <span class="k">return</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sigs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MethodDocumenter.annotate_to_first_argument"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.MethodDocumenter.annotate_to_first_argument">[docs]</a>    <span class="k">def</span> <span class="nf">annotate_to_first_argument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">typ</span><span class="p">:</span> <span class="n">Type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">"""Annotate type hint to the first argument of function if needed."""</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sig</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">__</span><span class="p">(</span><span class="s2">"Failed to get a method signature for </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">"</span><span class="p">),</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">fullname</span><span class="p">,</span> <span class="n">exc</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sig</span><span class="o">.</span><span class="n">parameters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">params</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">sig</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">params</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">annotation</span> <span class="ow">is</span> <span class="n">Parameter</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">annotation</span><span class="o">=</span><span class="n">typ</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">func</span><span class="o">.</span><span class="n">__signature__</span> <span class="o">=</span> <span class="n">sig</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">parameters</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
                <span class="c1"># failed to update signature (ex. built-in or extension types)</span>
                <span class="k">return</span></div></div>


<div class="viewcode-block" id="SingledispatchMethodDocumenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.SingledispatchMethodDocumenter">[docs]</a><span class="k">class</span> <span class="nc">SingledispatchMethodDocumenter</span><span class="p">(</span><span class="n">MethodDocumenter</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Used to be a specialized Documenter subclass for singledispatch'ed methods.</span>

<span class="sd">    Retained for backwards compatibility, now does the same as the MethodDocumenter</span>
<span class="sd">    """</span></div>


<div class="viewcode-block" id="AttributeDocumenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.AttributeDocumenter">[docs]</a><span class="k">class</span> <span class="nc">AttributeDocumenter</span><span class="p">(</span><span class="n">DocstringStripSignatureMixin</span><span class="p">,</span> <span class="n">ClassLevelDocumenter</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
    <span class="sd">"""</span>
<span class="sd">    Specialized Documenter subclass for attributes.</span>
<span class="sd">    """</span>
    <span class="n">objtype</span> <span class="o">=</span> <span class="s1">'attribute'</span>
    <span class="n">member_order</span> <span class="o">=</span> <span class="mi">60</span>
    <span class="n">option_spec</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">ModuleLevelDocumenter</span><span class="o">.</span><span class="n">option_spec</span><span class="p">)</span>
    <span class="n">option_spec</span><span class="p">[</span><span class="s2">"annotation"</span><span class="p">]</span> <span class="o">=</span> <span class="n">annotation_option</span>

    <span class="c1"># must be higher than the MethodDocumenter, else it will recognize</span>
    <span class="c1"># some non-data descriptors as methods</span>
    <span class="n">priority</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">is_function_or_method</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isfunction</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="ow">or</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isbuiltin</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="ow">or</span> <span class="n">inspect</span><span class="o">.</span><span class="n">ismethod</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

<div class="viewcode-block" id="AttributeDocumenter.can_document_member"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.AttributeDocumenter.can_document_member">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">can_document_member</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">membername</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">isattr</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Any</span>
                            <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isattributedescriptor</span><span class="p">(</span><span class="n">member</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">ModuleDocumenter</span><span class="p">)</span> <span class="ow">and</span>
              <span class="ow">not</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isroutine</span><span class="p">(</span><span class="n">member</span><span class="p">)</span> <span class="ow">and</span>
              <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="nb">type</span><span class="p">)):</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="AttributeDocumenter.document_members"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.AttributeDocumenter.document_members">[docs]</a>    <span class="k">def</span> <span class="nf">document_members</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">all_members</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="AttributeDocumenter.isinstanceattribute"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.AttributeDocumenter.isinstanceattribute">[docs]</a>    <span class="k">def</span> <span class="nf">isinstanceattribute</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">"""Check the subject is an instance attribute."""</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">analyzer</span> <span class="o">=</span> <span class="n">ModuleAnalyzer</span><span class="o">.</span><span class="n">for_module</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modname</span><span class="p">)</span>
            <span class="n">attr_docs</span> <span class="o">=</span> <span class="n">analyzer</span><span class="o">.</span><span class="n">find_attr_docs</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'.'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">attr_docs</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">True</span>

            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">except</span> <span class="n">PycodeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="AttributeDocumenter.import_object"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.AttributeDocumenter.import_object">[docs]</a>    <span class="k">def</span> <span class="nf">import_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raiseerror</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">import_object</span><span class="p">(</span><span class="n">raiseerror</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isenumattribute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">value</span>
            <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isattributedescriptor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_datadescriptor</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># if it's not a data descriptor</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_datadescriptor</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isinstanceattribute</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">object</span> <span class="o">=</span> <span class="n">INSTANCEATTR</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_datadescriptor</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">ret</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">elif</span> <span class="n">raiseerror</span><span class="p">:</span>
                <span class="k">raise</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="s1">'autodoc'</span><span class="p">,</span> <span class="n">subtype</span><span class="o">=</span><span class="s1">'import_object'</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">note_reread</span><span class="p">()</span>
                <span class="n">ret</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">ret</span></div>

<div class="viewcode-block" id="AttributeDocumenter.get_real_modname"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.AttributeDocumenter.get_real_modname">[docs]</a>    <span class="k">def</span> <span class="nf">get_real_modname</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__module__'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> \
            <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">modname</span></div>

<div class="viewcode-block" id="AttributeDocumenter.add_directive_header"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.AttributeDocumenter.add_directive_header">[docs]</a>    <span class="k">def</span> <span class="nf">add_directive_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sig</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_directive_header</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>
        <span class="n">sourcename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sourcename</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">annotation</span><span class="p">:</span>
            <span class="c1"># obtain type annotation for this attribute</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">annotations</span> <span class="o">=</span> <span class="n">get_type_hints</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
                <span class="c1"># Failed to evaluate ForwardRef (maybe TYPE_CHECKING)</span>
                <span class="n">annotations</span> <span class="o">=</span> <span class="n">safe_getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="s1">'__annotations__'</span><span class="p">,</span> <span class="p">{})</span>
            <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
                <span class="n">annotations</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="c1"># a broken class found (refs: https://github.com/sphinx-doc/sphinx/issues/8084)</span>
                <span class="n">annotations</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="c1"># AttributeError is raised on 3.5.2 (fixed by 3.5.3)</span>
                <span class="n">annotations</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">annotations</span><span class="p">:</span>
                <span class="n">objrepr</span> <span class="o">=</span> <span class="n">stringify_typehint</span><span class="p">(</span><span class="n">annotations</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :type: '</span> <span class="o">+</span> <span class="n">objrepr</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'.'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="o">.</span><span class="n">annotations</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :type: '</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyzer</span><span class="o">.</span><span class="n">annotations</span><span class="p">[</span><span class="n">key</span><span class="p">],</span>
                                  <span class="n">sourcename</span><span class="p">)</span>

            <span class="c1"># data descriptors do not have useful values</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datadescriptor</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span> <span class="ow">is</span> <span class="n">INSTANCEATTR</span><span class="p">:</span>
                        <span class="k">pass</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">objrepr</span> <span class="o">=</span> <span class="n">object_description</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :value: '</span> <span class="o">+</span> <span class="n">objrepr</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="k">pass</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">annotation</span> <span class="ow">is</span> <span class="n">SUPPRESS</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :annotation: </span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">annotation</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span></div>

<div class="viewcode-block" id="AttributeDocumenter.get_doc"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.AttributeDocumenter.get_doc">[docs]</a>    <span class="k">def</span> <span class="nf">get_doc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Disable `autodoc_inherit_docstring` temporarily to avoid to obtain</span>
            <span class="c1"># a docstring from the value which descriptor returns unexpectedly.</span>
            <span class="c1"># ref: https://github.com/sphinx-doc/sphinx/issues/7805</span>
            <span class="n">orig</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autodoc_inherit_docstrings</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autodoc_inherit_docstrings</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># type: ignore</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_doc</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">ignore</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autodoc_inherit_docstrings</span> <span class="o">=</span> <span class="n">orig</span>  <span class="c1"># type: ignore</span></div>

<div class="viewcode-block" id="AttributeDocumenter.add_content"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.AttributeDocumenter.add_content">[docs]</a>    <span class="k">def</span> <span class="nf">add_content</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">more_content</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">no_docstring</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datadescriptor</span><span class="p">:</span>
            <span class="c1"># if it's not a data descriptor, its docstring is very probably the</span>
            <span class="c1"># wrong thing to display</span>
            <span class="n">no_docstring</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_content</span><span class="p">(</span><span class="n">more_content</span><span class="p">,</span> <span class="n">no_docstring</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="PropertyDocumenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.PropertyDocumenter">[docs]</a><span class="k">class</span> <span class="nc">PropertyDocumenter</span><span class="p">(</span><span class="n">DocstringStripSignatureMixin</span><span class="p">,</span> <span class="n">ClassLevelDocumenter</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
    <span class="sd">"""</span>
<span class="sd">    Specialized Documenter subclass for properties.</span>
<span class="sd">    """</span>
    <span class="n">objtype</span> <span class="o">=</span> <span class="s1">'property'</span>
    <span class="n">directivetype</span> <span class="o">=</span> <span class="s1">'method'</span>
    <span class="n">member_order</span> <span class="o">=</span> <span class="mi">60</span>

    <span class="c1"># before AttributeDocumenter</span>
    <span class="n">priority</span> <span class="o">=</span> <span class="n">AttributeDocumenter</span><span class="o">.</span><span class="n">priority</span> <span class="o">+</span> <span class="mi">1</span>

<div class="viewcode-block" id="PropertyDocumenter.can_document_member"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.PropertyDocumenter.can_document_member">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">can_document_member</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">membername</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">isattr</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Any</span>
                            <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isproperty</span><span class="p">(</span><span class="n">member</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">ClassDocumenter</span><span class="p">)</span></div>

<div class="viewcode-block" id="PropertyDocumenter.document_members"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.PropertyDocumenter.document_members">[docs]</a>    <span class="k">def</span> <span class="nf">document_members</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">all_members</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="PropertyDocumenter.get_real_modname"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.PropertyDocumenter.get_real_modname">[docs]</a>    <span class="k">def</span> <span class="nf">get_real_modname</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="s1">'__module__'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> \
            <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">modname</span></div>

<div class="viewcode-block" id="PropertyDocumenter.add_directive_header"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.PropertyDocumenter.add_directive_header">[docs]</a>    <span class="k">def</span> <span class="nf">add_directive_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sig</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_directive_header</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>
        <span class="n">sourcename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sourcename</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isabstractmethod</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :abstractmethod:'</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="s1">'   :property:'</span><span class="p">,</span> <span class="n">sourcename</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="InstanceAttributeDocumenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.InstanceAttributeDocumenter">[docs]</a><span class="k">class</span> <span class="nc">InstanceAttributeDocumenter</span><span class="p">(</span><span class="n">AttributeDocumenter</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Specialized Documenter subclass for attributes that cannot be imported</span>
<span class="sd">    because they are instance attributes (e.g. assigned in __init__).</span>
<span class="sd">    """</span>
    <span class="n">objtype</span> <span class="o">=</span> <span class="s1">'instanceattribute'</span>
    <span class="n">directivetype</span> <span class="o">=</span> <span class="s1">'attribute'</span>
    <span class="n">member_order</span> <span class="o">=</span> <span class="mi">60</span>

    <span class="c1"># must be higher than AttributeDocumenter</span>
    <span class="n">priority</span> <span class="o">=</span> <span class="mi">11</span>

<div class="viewcode-block" id="InstanceAttributeDocumenter.can_document_member"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.InstanceAttributeDocumenter.can_document_member">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">can_document_member</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">membername</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">isattr</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Any</span>
                            <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">"""This documents only INSTANCEATTR members."""</span>
        <span class="k">return</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">ModuleDocumenter</span><span class="p">)</span> <span class="ow">and</span>
                <span class="n">isattr</span> <span class="ow">and</span>
                <span class="n">member</span> <span class="ow">is</span> <span class="n">INSTANCEATTR</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">import_parent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">parent</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modname</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">parent</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ImportError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">None</span>

<div class="viewcode-block" id="InstanceAttributeDocumenter.import_object"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.InstanceAttributeDocumenter.import_object">[docs]</a>    <span class="k">def</span> <span class="nf">import_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raiseerror</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">"""Never import anything."""</span>
        <span class="c1"># disguise as an attribute</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">objtype</span> <span class="o">=</span> <span class="s1">'attribute'</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">object</span> <span class="o">=</span> <span class="n">INSTANCEATTR</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_parent</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_datadescriptor</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="InstanceAttributeDocumenter.add_content"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.InstanceAttributeDocumenter.add_content">[docs]</a>    <span class="k">def</span> <span class="nf">add_content</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">more_content</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">no_docstring</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">"""Never try to get a docstring from the object."""</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_content</span><span class="p">(</span><span class="n">more_content</span><span class="p">,</span> <span class="n">no_docstring</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="SlotsAttributeDocumenter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.SlotsAttributeDocumenter">[docs]</a><span class="k">class</span> <span class="nc">SlotsAttributeDocumenter</span><span class="p">(</span><span class="n">AttributeDocumenter</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Specialized Documenter subclass for attributes that cannot be imported</span>
<span class="sd">    because they are attributes in __slots__.</span>
<span class="sd">    """</span>
    <span class="n">objtype</span> <span class="o">=</span> <span class="s1">'slotsattribute'</span>
    <span class="n">directivetype</span> <span class="o">=</span> <span class="s1">'attribute'</span>
    <span class="n">member_order</span> <span class="o">=</span> <span class="mi">60</span>

    <span class="c1"># must be higher than AttributeDocumenter</span>
    <span class="n">priority</span> <span class="o">=</span> <span class="mi">11</span>

<div class="viewcode-block" id="SlotsAttributeDocumenter.can_document_member"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.SlotsAttributeDocumenter.can_document_member">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">can_document_member</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">member</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">membername</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">isattr</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Any</span>
                            <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">"""This documents only SLOTSATTR members."""</span>
        <span class="k">return</span> <span class="n">member</span> <span class="ow">is</span> <span class="n">SLOTSATTR</span></div>

<div class="viewcode-block" id="SlotsAttributeDocumenter.import_object"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.SlotsAttributeDocumenter.import_object">[docs]</a>    <span class="k">def</span> <span class="nf">import_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raiseerror</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">"""Never import anything."""</span>
        <span class="c1"># disguise as an attribute</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">objtype</span> <span class="o">=</span> <span class="s1">'attribute'</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_datadescriptor</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">with</span> <span class="n">mock</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autodoc_mock_imports</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">ret</span> <span class="o">=</span> <span class="n">import_object</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s1">'class'</span><span class="p">,</span>
                                    <span class="n">attrgetter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_attr</span><span class="p">,</span>
                                    <span class="n">warningiserror</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">autodoc_warningiserror</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">ret</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">raiseerror</span><span class="p">:</span>
                    <span class="k">raise</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="s1">'autodoc'</span><span class="p">,</span> <span class="n">subtype</span><span class="o">=</span><span class="s1">'import_object'</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">note_reread</span><span class="p">()</span>
                    <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="SlotsAttributeDocumenter.get_doc"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.SlotsAttributeDocumenter.get_doc">[docs]</a>    <span class="k">def</span> <span class="nf">get_doc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="sd">"""Decode and return lines of the docstring(s) for the object."""</span>
        <span class="k">if</span> <span class="n">ignore</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">"The 'ignore' argument to autodoc.</span><span class="si">%s</span><span class="s2">.get_doc() is deprecated."</span>
                          <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                          <span class="n">RemovedInSphinx50Warning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">objpath</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="vm">__slots__</span> <span class="o">=</span> <span class="n">safe_getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="s1">'__slots__'</span><span class="p">,</span> <span class="p">[])</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="vm">__slots__</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="vm">__slots__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">),</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">docstring</span> <span class="o">=</span> <span class="n">prepare_docstring</span><span class="p">(</span><span class="vm">__slots__</span><span class="p">[</span><span class="n">name</span><span class="p">])</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">docstring</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span></div></div>


<div class="viewcode-block" id="get_documenters"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.get_documenters">[docs]</a><span class="k">def</span> <span class="nf">get_documenters</span><span class="p">(</span><span class="n">app</span><span class="p">:</span> <span class="n">Sphinx</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">"Type[Documenter]"</span><span class="p">]:</span>
    <span class="sd">"""Returns registered Documenter classes"""</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">"get_documenters() is deprecated."</span><span class="p">,</span> <span class="n">RemovedInSphinx50Warning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">app</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">documenters</span></div>


<div class="viewcode-block" id="autodoc_attrgetter"><a class="viewcode-back" href="../../../../reference/api/#sphinx.ext.autodoc.autodoc_attrgetter">[docs]</a><span class="k">def</span> <span class="nf">autodoc_attrgetter</span><span class="p">(</span><span class="n">app</span><span class="p">:</span> <span class="n">Sphinx</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="n">defargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">"""Alternative getattr() for types"""</span>
    <span class="k">for</span> <span class="n">typ</span><span class="p">,</span> <span class="n">func</span> <span class="ow">in</span> <span class="n">app</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">autodoc_attrgettrs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">typ</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">defargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">safe_getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">defargs</span><span class="p">)</span></div>


<span class="k">def</span> <span class="nf">migrate_autodoc_member_order</span><span class="p">(</span><span class="n">app</span><span class="p">:</span> <span class="n">Sphinx</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Config</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">autodoc_member_order</span> <span class="o">==</span> <span class="s1">'alphabetic'</span><span class="p">:</span>
        <span class="c1"># RemovedInSphinx50Warning</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">__</span><span class="p">(</span><span class="s1">'autodoc_member_order now accepts "alphabetical" '</span>
                          <span class="s1">'instead of "alphabetic". Please update your setting.'</span><span class="p">))</span>
        <span class="n">config</span><span class="o">.</span><span class="n">autodoc_member_order</span> <span class="o">=</span> <span class="s1">'alphabetical'</span>  <span class="c1"># type: ignore</span>


<span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="n">app</span><span class="p">:</span> <span class="n">Sphinx</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_autodocumenter</span><span class="p">(</span><span class="n">ModuleDocumenter</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_autodocumenter</span><span class="p">(</span><span class="n">ClassDocumenter</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_autodocumenter</span><span class="p">(</span><span class="n">ExceptionDocumenter</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_autodocumenter</span><span class="p">(</span><span class="n">DataDocumenter</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_autodocumenter</span><span class="p">(</span><span class="n">DataDeclarationDocumenter</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_autodocumenter</span><span class="p">(</span><span class="n">GenericAliasDocumenter</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_autodocumenter</span><span class="p">(</span><span class="n">TypeVarDocumenter</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_autodocumenter</span><span class="p">(</span><span class="n">FunctionDocumenter</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_autodocumenter</span><span class="p">(</span><span class="n">DecoratorDocumenter</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_autodocumenter</span><span class="p">(</span><span class="n">MethodDocumenter</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_autodocumenter</span><span class="p">(</span><span class="n">AttributeDocumenter</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_autodocumenter</span><span class="p">(</span><span class="n">PropertyDocumenter</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_autodocumenter</span><span class="p">(</span><span class="n">InstanceAttributeDocumenter</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_autodocumenter</span><span class="p">(</span><span class="n">SlotsAttributeDocumenter</span><span class="p">)</span>

    <span class="n">app</span><span class="o">.</span><span class="n">add_config_value</span><span class="p">(</span><span class="s1">'autoclass_content'</span><span class="p">,</span> <span class="s1">'class'</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">ENUM</span><span class="p">(</span><span class="s1">'both'</span><span class="p">,</span> <span class="s1">'class'</span><span class="p">,</span> <span class="s1">'init'</span><span class="p">))</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_config_value</span><span class="p">(</span><span class="s1">'autodoc_member_order'</span><span class="p">,</span> <span class="s1">'alphabetical'</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span>
                         <span class="n">ENUM</span><span class="p">(</span><span class="s1">'alphabetic'</span><span class="p">,</span> <span class="s1">'alphabetical'</span><span class="p">,</span> <span class="s1">'bysource'</span><span class="p">,</span> <span class="s1">'groupwise'</span><span class="p">))</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_config_value</span><span class="p">(</span><span class="s1">'autodoc_default_options'</span><span class="p">,</span> <span class="p">{},</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_config_value</span><span class="p">(</span><span class="s1">'autodoc_docstring_signature'</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_config_value</span><span class="p">(</span><span class="s1">'autodoc_mock_imports'</span><span class="p">,</span> <span class="p">[],</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_config_value</span><span class="p">(</span><span class="s1">'autodoc_typehints'</span><span class="p">,</span> <span class="s2">"signature"</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span>
                         <span class="n">ENUM</span><span class="p">(</span><span class="s2">"signature"</span><span class="p">,</span> <span class="s2">"description"</span><span class="p">,</span> <span class="s2">"none"</span><span class="p">))</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_config_value</span><span class="p">(</span><span class="s1">'autodoc_warningiserror'</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_config_value</span><span class="p">(</span><span class="s1">'autodoc_inherit_docstrings'</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_event</span><span class="p">(</span><span class="s1">'autodoc-before-process-signature'</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_event</span><span class="p">(</span><span class="s1">'autodoc-process-docstring'</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_event</span><span class="p">(</span><span class="s1">'autodoc-process-signature'</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_event</span><span class="p">(</span><span class="s1">'autodoc-skip-member'</span><span class="p">)</span>

    <span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">'config-inited'</span><span class="p">,</span> <span class="n">migrate_autodoc_member_order</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="mi">800</span><span class="p">)</span>

    <span class="n">app</span><span class="o">.</span><span class="n">setup_extension</span><span class="p">(</span><span class="s1">'sphinx.ext.autodoc.type_comment'</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">setup_extension</span><span class="p">(</span><span class="s1">'sphinx.ext.autodoc.typehints'</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span><span class="s1">'version'</span><span class="p">:</span> <span class="n">sphinx</span><span class="o">.</span><span class="n">__display_version__</span><span class="p">,</span> <span class="s1">'parallel_read_safe'</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
</pre></div>
      </article>
      <footer>
        
        <div class="related-pages">
          
          
        </div>

        <div class="related-information">
          <span class="copyright">Copyright &copy; 2020, Pradyun Gedam</span> |
          Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using
          <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
          <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </main>
</div>
  </body>
</html>